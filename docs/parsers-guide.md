# üìò –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –ø–∞—Ä—Å–µ—Ä–æ–≤

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 31 –æ–∫—Ç—è–±—Ä—è 2025
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2 –Ω–æ—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è:** 2.1

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤ –≤ Engine Results Viewer –∏—Å–ø–æ–ª—å–∑—É—è **Registry Pattern Architecture**.

**–¢–µ–∫—É—â–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã:**
- ‚úÖ [.det Format](file-formats/det-format.md) - 24 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (–±–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä)
- ‚úÖ [.pou Format](file-formats/pou-format.md) - 71 –ø–∞—Ä–∞–º–µ—Ç—Ä (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä)
- ‚è≥ .prt + ~12 trace file types - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è

**–ü—Ä–∏–Ω—Ü–∏–ø:** –í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç –¥–∞–Ω–Ω—ã–µ –≤ **–µ–¥–∏–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç** –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ **ParserRegistry**.

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: Universal EngMod4T Format

**–ü–µ—Ä–µ–¥ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –ø–∞—Ä—Å–µ—Ä–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ:** [EngMod4T Overview](engmod4t-overview.md)

### –í—Å–µ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç!

**–ö–õ–Æ–ß–ï–í–û–ï –û–¢–ö–†–´–¢–ò–ï:** –í—Å–µ ~15 —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ (.det, .pou, .prt, trace files) —Å–æ–∑–¥–∞—é—Ç—Å—è –û–î–ù–û–ô –ø—Ä–æ–≥—Ä–∞–º–º–æ–π (EngMod4T, Delphi 7) ‚Üí –û–î–ò–ù –∏ —Ç–æ—Ç –∂–µ —Ñ–æ—Ä–º–∞—Ç!

**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (–¥–ª—è –í–°–ï–• —Ñ–∞–π–ª–æ–≤):**

- **–§–æ—Ä–º–∞—Ç:** Fixed-width ASCII text (**–ù–ï** CSV, **–ù–ï** tab-separated)
- **–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ:** Delphi `WriteLn(F, Format('%12.2f ...', [values]))`
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã (–Ω–µ –æ–¥–∏–Ω–æ—á–Ω—ã–µ, –Ω–µ —Ç–∞–±—ã)
- **–ü–µ—Ä–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞:** –í–°–ï–ì–î–ê —Å–ª—É–∂–µ–±–Ω–∞—è (–ø—Ä–æ–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ `slice(1)`)
- **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ:** –ß–∏—Å–ª–∞ –≤—ã—Ä–æ–≤–Ω–µ–Ω—ã –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ —Å–ª–µ–≤–∞

### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–∞—Ä—Å–∏–Ω–≥–∞

```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û –¥–ª—è –í–°–ï–• —Ñ–∞–π–ª–æ–≤ EngMod4T
const columns = line.trim().split(/\s+/);      // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
const dataColumns = columns.slice(1);          // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–≤—É—é –∫–æ–ª–æ–Ω–∫—É
const values = dataColumns.map(parseFloat);

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const values = line.split(',');       // –ù–ï–¢! –≠—Ç–æ –Ω–µ CSV
const values = line.split(/\t+/);     // –ù–ï–¢! –≠—Ç–æ –Ω–µ —Ç–∞–±—ã
const values = line.split(' ');       // –ù–ï–¢! –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
```

### –ó–∞—á–µ–º —ç—Ç–æ –∑–Ω–∞—Ç—å?

1. **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** –ù–µ –Ω—É–∂–Ω–æ —É–≥–∞–¥—ã–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –Ω–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
2. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:** –í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥
3. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:** –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** Single Source of Truth –≤ [EngMod4T Overview](engmod4t-overview.md)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫

```
backend/src/parsers/
‚îú‚îÄ‚îÄ index.js                    # –ï–¥–∏–Ω—ã–π API, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ ParserRegistry.js           # Registry pattern - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ common/                     # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ calculationMarker.js    # –ü–∞—Ä—Å–∏–Ω–≥ $ –º–∞—Ä–∫–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ formatDetector.js       # –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞
‚îî‚îÄ‚îÄ formats/                    # –ü–∞—Ä—Å–µ—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
    ‚îú‚îÄ‚îÄ detParser.js            # .det —Ñ–æ—Ä–º–∞—Ç (24 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞)
    ‚îî‚îÄ‚îÄ pouParser.js            # .pou —Ñ–æ—Ä–º–∞—Ç (71 –ø–∞—Ä–∞–º–µ—Ç—Ä)
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. ParserRegistry (–†–µ–µ—Å—Ç—Ä –ø–∞—Ä—Å–µ—Ä–æ–≤)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞–º–∏

```javascript
// backend/src/parsers/ParserRegistry.js
class ParserRegistry {
  constructor() {
    this.parsers = new Map();
  }

  // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–∞—Ä—Å–µ—Ä–∞
  register(format, ParserClass) {
    this.parsers.set(format, ParserClass);
  }

  // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
  getParser(format) {
    return new (this.parsers.get(format))();
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞
  hasParser(format) {
    return this.parsers.has(format);
  }
}

export const globalRegistry = new ParserRegistry();
```

#### 2. Format Detector (–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞

```javascript
// backend/src/parsers/common/formatDetector.js
export function detectFormat(filePath, firstLine) {
  // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
  if (filePath.endsWith('.det')) return 'det';
  if (filePath.endsWith('.pou')) return 'pou';

  // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É (metadata fields)
  const parts = firstLine.split(/\s+/).filter(Boolean);
  if (parts.length === 2) return 'det';  // .det: 2 –ø–æ–ª—è
  if (parts.length >= 5) return 'pou';   // .pou: 5 –ø–æ–ª–µ–π

  throw new Error('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞');
}
```

#### 3. Common Utilities (–û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã)

**calculationMarker.js** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ $ –º–∞—Ä–∫–µ—Ä–æ–≤:

```javascript
// backend/src/parsers/common/calculationMarker.js
export function parseCalculationMarker(line) {
  const cleaned = cleanLine(line);
  const fullId = cleaned.trim();         // "$3.1 R 0.86"
  const userInputName = fullId.substring(1).trim(); // "3.1 R 0.86"

  return {
    id: fullId,              // –î–ª—è API (—Å $)
    name: userInputName      // –î–ª—è UI (–±–µ–∑ $)
  };
}
```

#### 4. Unified API (–ï–¥–∏–Ω—ã–π API)

**index.js** - –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä—Å–µ—Ä–æ–≤:

```javascript
// backend/src/parsers/index.js
import { globalRegistry } from './ParserRegistry.js';
import { DetParser } from './formats/detParser.js';
import { PouParser } from './formats/pouParser.js';

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –ø–∞—Ä—Å–µ—Ä—ã –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
globalRegistry.register('det', DetParser);
globalRegistry.register('pou', PouParser);

export async function parseEngineFile(filePath) {
  const content = await readFile(filePath, 'utf-8');
  const firstLine = content.split('\n')[0];

  const format = detectFormat(filePath, firstLine);
  const parser = globalRegistry.getParser(format);

  return await parser.parse(filePath);
}
```

---

## üìã –ï–¥–∏–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç (—Ü–µ–ª–µ–≤–æ–π)

–í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —ç—Ç–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:

```json
{
  "fileName": "BMW M42.det",
  "format": "det",
  "metadata": {
    "numCylinders": 4,
    "engineType": "NATUR"
  },
  "columnHeaders": [
    "RPM", "P-Av", "Torque", "PurCyl(1)", ...
  ],
  "calculations": [
    {
      "id": "$1",
      "name": "1",
      "dataPoints": [
        {
          "RPM": 1000,
          "P-Av": 15.5,
          "Torque": 123.45,
          "PurCyl": [0.85, 0.86, 0.87, 0.88],
          "TCylMax": [450, 452, 448, 451],
          "PCylMax": [45.2, 45.5, 45.1, 45.3],
          "TUbMax": [680, 685, 678, 682],
          "Deto": [0, 0, 0, 0],
          "Convergence": 0.0001
        }
      ]
    }
  ]
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:**
- `fileName` - –∏–º—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `format` - —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ ('det', 'pou', –∏ —Ç.–¥.)
- `metadata` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª—è (cylinders, engineType, etc.)
- `columnHeaders` - –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
- `calculations` - –º–∞—Å—Å–∏–≤ —Ä–∞—Å—á—ë—Ç–æ–≤
  - `id` - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ä–∞—Å—á—ë—Ç–∞ (—Å $)
  - `name` - –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è (–±–µ–∑ $)
  - `dataPoints` - –º–∞—Å—Å–∏–≤ —Ç–æ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ dataPoints:**
- –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `RPM`, `P-Av`, `Torque`
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –∑–∞–≤–∏—Å—è—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
- –ú–∞—Å—Å–∏–≤—ã –ø–æ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º: –¥–ª–∏–Ω–∞ = `metadata.numCylinders`

---

## üîß –®–∞–≥ 1: –ò–∑—É—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞

### 1.1. –ü–æ–ª—É—á–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

–ü–æ–ø—Ä–æ—Å–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å 2-3 –ø—Ä–∏–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤:**
```
test-data/
‚îú‚îÄ‚îÄ example1.xyz  # –í–∞—à–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ example2.xyz
‚îî‚îÄ‚îÄ example3.xyz
```

### 1.2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:**
- –ö–∞–∫–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞? (`.xyz`)
- –¢–µ–∫—Å—Ç–æ–≤—ã–π –∏–ª–∏ –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç?
- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏? (—Ç–∞–±—É–ª—è—Ü–∏—è, –∑–∞–ø—è—Ç—ã–µ, –ø—Ä–æ–±–µ–ª—ã)
- –ï—Å—Ç—å –ª–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫?
- –ö–∞–∫ –æ–±–æ–∑–Ω–∞—á–∞—é—Ç—Å—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ?
- –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã —Ä–∞—Å—á—ë—Ç—ã? (–º–∞—Ä–∫–µ—Ä—ã, —Å–µ–∫—Ü–∏–∏)
- –°–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç—Ä–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö?
- –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç?
- –ï—Å—Ç—å –ª–∏ –º–∞—Å—Å–∏–≤—ã –ø–æ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º?

**–ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏–∑–∞ (.det vs .pou):**

| Aspect | .det Format | .pou Format |
|--------|-------------|-------------|
| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ | `.det` | `.pou` |
| –§–æ—Ä–º–∞—Ç | –¢–µ–∫—Å—Ç–æ–≤—ã–π, –ø—Ä–æ–±–µ–ª—ã | –¢–µ–∫—Å—Ç–æ–≤—ã–π, –ø—Ä–æ–±–µ–ª—ã |
| –°—Ç—Ä–æ–∫–∞ 1 | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (2 –ø–æ–ª—è) | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (5 –ø–æ–ª–µ–π) |
| –°—Ç—Ä–æ–∫–∞ 2 | –ó–∞–≥–æ–ª–æ–≤–∫–∏ (24 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞) | –ó–∞–≥–æ–ª–æ–≤–∫–∏ (71 –ø–∞—Ä–∞–º–µ—Ç—Ä) |
| –°—Ç—Ä–æ–∫–∞ 3+ | –ú–∞—Ä–∫–µ—Ä—ã $ + –¥–∞–Ω–Ω—ã–µ | –ú–∞—Ä–∫–µ—Ä—ã $ + –¥–∞–Ω–Ω—ã–µ |
| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | 24 | 71 |
| –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ | –°–ª—É–∂–µ–±–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Üí, –º–∞—Å—Å–∏–≤—ã PCylMax/TCylMax/Deto | –°–ª—É–∂–µ–±–Ω–∞—è –∫–æ–ª–æ–Ω–∫–∞ ‚Üí, –º–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–æ–≤ (Power, IMEP, BMEP, etc.) |

### 1.3. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `docs/file-formats/xyz-format.md`:

```markdown
# .xyz File Format Specification

**Version:** 1.0
**Date:** YYYY-MM-DD

## Overview

[–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞]

## File Structure

Line 1: Metadata
Line 2: Column headers
Line 3+: Calculation markers ($) and data

## Metadata

Format: <Field1> <Field2> ...

| Field | Type | Description | Example |
|-------|------|-------------|---------|
| Field1 | type | description | value |

## Parameters

[–û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å –µ–¥–∏–Ω–∏—Ü–∞–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è]

## Example

[–†–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∏–∑ test-data]
```

**–ü—Ä–∏–º–µ—Ä—ã:** [det-format.md](file-formats/det-format.md), [pou-format.md](file-formats/pou-format.md)

---

## üíª –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä

### 2.1. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–∞—Ä—Å–µ—Ä–∞

```bash
touch backend/src/parsers/formats/xyzParser.js
```

### 2.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞—Ä—Å–µ—Ä–∞ (—à–∞–±–ª–æ–Ω)

```javascript
/**
 * –ü–∞—Ä—Å–µ—Ä –¥–ª—è .xyz —Ñ–∞–π–ª–æ–≤ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
 */

import { readFile } from 'fs/promises';
import { basename } from 'path';
import {
  cleanLine,
  parseCalculationMarker,
  isCalculationMarker
} from '../common/calculationMarker.js';

class XyzParser {
  /**
   * –ü–∞—Ä—Å–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ .xyz —Ñ–∞–π–ª–∞
   * @param {string} line - –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∞–π–ª–∞
   * @returns {Object} - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
   */
  parseMetadata(line) {
    const cleaned = cleanLine(line);
    const parts = cleaned.split(/\s+/).filter(Boolean);

    if (parts.length < 2) {
      throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö');
    }

    return {
      numCylinders: parseInt(parts[0], 10),
      engineType: parts[1],
      // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞
    };
  }

  /**
   * –ü–∞—Ä—Å–∏—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ –∏–∑ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏ .xyz —Ñ–∞–π–ª–∞
   * @param {string} line - –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Ñ–∞–π–ª–∞
   * @returns {string[]} - –ú–∞—Å—Å–∏–≤ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
   */
  parseColumnHeaders(line) {
    const cleaned = cleanLine(line);
    const headers = cleaned.split(/\s+/).filter(Boolean);
    return headers;
  }

  /**
   * –ü–∞—Ä—Å–∏—Ç –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ .xyz —Ñ–∞–π–ª–∞
   * @param {string} line - –°—Ç—Ä–æ–∫–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
   * @param {string[]} headers - –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
   * @param {number} numCylinders - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤
   * @returns {Object|null} - –û–±—ä–µ–∫—Ç DataPoint –∏–ª–∏ null
   */
  parseDataLine(line, headers, numCylinders) {
    const cleaned = cleanLine(line);

    // –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –ø—É—Å—Ç–∞—è –∏–ª–∏ —ç—Ç–æ –º–∞—Ä–∫–µ—Ä —Ä–∞—Å—á—ë—Ç–∞
    if (!cleaned || cleaned.startsWith('$')) {
      return null;
    }

    // –†–∞–∑–±–∏–≤–∞–µ–º –ø–æ –ø—Ä–æ–±–µ–ª–∞–º
    const values = cleaned.split(/\s+/).filter(Boolean);

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–Ω–∞—á–µ–Ω–∏–π
    if (values.length !== headers.length) {
      console.warn(
        `[XyzParser] –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: ${values.length} –∑–Ω–∞—á–µ–Ω–∏–π, ${headers.length} –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤`
      );
    }

    // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç DataPoint
    const dataPoint = {
      RPM: parseFloat(values[0]),
      'P-Av': parseFloat(values[1]),
      Torque: parseFloat(values[2]),
      // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞
    };

    // –ï—Å–ª–∏ –µ—Å—Ç—å –º–∞—Å—Å–∏–≤—ã –ø–æ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º:
    let idx = 3; // –ü–æ—Å–ª–µ –±–∞–∑–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

    // –ü—Ä–∏–º–µ—Ä: –ø–∞—Ä—Å–∏–Ω–≥ –º–∞—Å—Å–∏–≤–∞ Power(1-N)
    dataPoint.Power = [];
    for (let i = 0; i < numCylinders; i++) {
      dataPoint.Power.push(parseFloat(values[idx++]));
    }

    return dataPoint;
  }

  /**
   * –ü–∞—Ä—Å–∏—Ç .xyz —Ñ–∞–π–ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   * @param {string} filePath - –ü—É—Ç—å –∫ .xyz —Ñ–∞–π–ª—É
   * @returns {Promise<Object>} - –û–±—ä–µ–∫—Ç EngineProject
   */
  async parse(filePath) {
    try {
      // –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª
      const content = await readFile(filePath, 'utf-8');
      const lines = content.split('\n');

      if (lines.length < 3) {
        throw new Error('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π');
      }

      // –ü–∞—Ä—Å–∏–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (—Å—Ç—Ä–æ–∫–∞ 1)
      const metadata = this.parseMetadata(lines[0]);

      // –ü–∞—Ä—Å–∏–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 2)
      const columnHeaders = this.parseColumnHeaders(lines[1]);

      // –ü–∞—Ä—Å–∏–º —Ä–∞—Å—á—ë—Ç—ã (—Å—Ç—Ä–æ–∫–∞ 3+)
      const calculations = [];
      let currentCalculation = null;

      for (let i = 2; i < lines.length; i++) {
        const line = lines[i];

        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
        if (!line.trim()) {
          continue;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å—Ç—Ä–æ–∫–∞ –º–∞—Ä–∫–µ—Ä–æ–º —Ä–∞—Å—á—ë—Ç–∞
        if (isCalculationMarker(line)) {
          // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–∞—Å—á—ë—Ç (–µ—Å–ª–∏ –±—ã–ª)
          if (currentCalculation && currentCalculation.dataPoints.length > 0) {
            calculations.push(currentCalculation);
          }

          // –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π —Ä–∞—Å—á—ë—Ç
          const { id, name } = parseCalculationMarker(line);
          currentCalculation = {
            id,    // –° —Å–∏–º–≤–æ–ª–æ–º $
            name,  // –ë–µ–∑ —Å–∏–º–≤–æ–ª–∞ $
            dataPoints: []
          };
        } else if (currentCalculation) {
          // –ü–∞—Ä—Å–∏–º —Å—Ç—Ä–æ–∫—É –¥–∞–Ω–Ω—ã—Ö
          const dataPoint = this.parseDataLine(
            line,
            columnHeaders,
            metadata.numCylinders
          );

          if (dataPoint) {
            currentCalculation.dataPoints.push(dataPoint);
          }
        }
      }

      // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞—Å—á—ë—Ç
      if (currentCalculation && currentCalculation.dataPoints.length > 0) {
        calculations.push(currentCalculation);
      }

      // –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
      const result = {
        fileName: basename(filePath),
        format: 'xyz',              // ‚Üê –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
        metadata,
        columnHeaders,
        calculations
      };

      return result;
    } catch (error) {
      console.error(`[XyzParser] –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ —Ñ–∞–π–ª–∞ ${filePath}:`, error);
      throw error;
    }
  }
}

export { XyzParser };
```

### 2.3. –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

**‚úÖ DO:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cleanLine()` –∏–∑ `calculationMarker.js` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `isCalculationMarker()` –∏ `parseCalculationMarker()` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ $ –º–∞—Ä–∫–µ—Ä–æ–≤
- –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å edge cases (–ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏, –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª—è–º–∏
- –í–æ–∑–≤—Ä–∞—â–∞—Ç—å `format` –ø–æ–ª–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- –ë—Ä–æ—Å–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É

**‚ùå DON'T:**
- –î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–∞—Ä—Å–∏–Ω–≥–∞ $ –º–∞—Ä–∫–µ—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π common utilities)
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏
- –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞—Ç—å —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- –•–∞—Ä–¥–∫–æ–¥–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `metadata.numCylinders`)
- –ó–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ `format` –ø–æ–ª–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ

### 2.4. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏

#### Parameter Mapping (–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞.

**–ü—Ä–∏–º–µ—Ä:** `.pou` —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `Purc`, –∞ `.det` —Ñ–∞–π–ª—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `PurCyl` –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ "Mixture Purity".

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏–π –∫ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É –≤–∏–¥—É.

```javascript
/**
 * –ú–∞–ø–ø–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: .pou —Ñ–∞–π–ª ‚Üí –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
 */
const PARAMETER_MAPPING = {
  'Purc': 'PurCyl',  // .pou –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "Purc", .det –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "PurCyl"
  // –î–æ–±–∞–≤–ª—è–π—Ç–µ —Å—é–¥–∞ –¥—Ä—É–≥–∏–µ –º–∞–ø–ø–∏–Ω–≥–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
};

/**
 * –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
 */
function mapParameterName(paramName) {
  // –£–±–∏—Ä–∞–µ–º –Ω–æ–º–µ—Ä–∞ —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤: "Purc( 1)" ‚Üí "Purc"
  const baseName = paramName.replace(/\(\s*\d+\s*\)/, '').trim();

  // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞–ø–ø–∏–Ω–≥
  const mappedName = PARAMETER_MAPPING[baseName] || baseName;

  // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–º–µ—Ä —Ü–∏–ª–∏–Ω–¥—Ä–∞: "Purc" ‚Üí "PurCyl( 1)"
  const cylinderMatch = paramName.match(/\(\s*\d+\s*\)/);
  if (cylinderMatch) {
    return mappedName + cylinderMatch[0];
  }

  return mappedName;
}

// –í –º–µ—Ç–æ–¥–µ parseColumnHeaders:
parseColumnHeaders(line) {
  const cleaned = cleanLine(line);
  const headers = cleaned.split(/\s+/).filter(Boolean);

  // –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∞–ø–ø–∏–Ω–≥ –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–≥–æ–ª–æ–≤–∫—É
  const mappedHeaders = headers.map(header => mapParameterName(header));

  return mappedHeaders;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Frontend –ø–æ–ª—É—á–∞–µ—Ç –µ–¥–∏–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞.

#### Temperature Units (–ï–¥–∏–Ω–∏—Ü—ã —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)

**–í–∞–∂–Ω–æ:** –í—Å–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **¬∞C (Celsius)**, –Ω–µ –≤ Kelvin!

```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –¥–∞–Ω–Ω—ã–µ —É–∂–µ –≤ ¬∞C
dataPoint.TCylMax = [450, 452, 448, 451];  // ¬∞C
dataPoint.TUbMax = [680, 685, 678, 682];   // ¬∞C
dataPoint.TexAv = 584.6;                   // ¬∞C

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –ù–ï –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å K ‚Üí ¬∞C!
// dataPoint.TCylMax = tempK - 273.15;  // –ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫!
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π:**
- `TCylMax` - Maximum cylinder temperature (¬∞C)
- `TUbMax` - Maximum unburned mixture temperature (¬∞C)
- `TexAv` - Average exhaust temperature (¬∞C)
- `TC-Av` - Average cylinder temperature (¬∞C)

Frontend –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–Ω–≤–µ—Ä—Å–∏—é ¬∞C ‚Üî ¬∞F –¥–ª—è American units —á–µ—Ä–µ–∑ `unitsConversion.ts`.

#### Parameter Metadata (–ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

**Single Source of Truth:** `frontend/src/config/parameters.ts`

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö 29 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
- `name` - –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (RPM, P-Av, PurCyl, etc.)
- `displayName` - –ß–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (Engine Speed, Average Power, etc.)
- `unit` - –ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è SI (–æ–±/–º–∏–Ω, kW, N¬∑m, bar, ¬∞C, etc.)
- `conversionType` - –¢–∏–ø –∫–æ–Ω–≤–µ—Ä—Å–∏–∏ (power, torque, pressure, temperature, none)
- `category` - –ö–∞—Ç–µ–≥–æ—Ä–∏—è (global, per-cylinder, vibe-model)
- `formats` - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (['det'], ['pou'], ['det', 'pou'], etc.)
- `chartable` - –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ
- `brief` - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è tooltips)
- `description` - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è Help —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

**–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞:** –ï—Å–ª–∏ –≤–≤–æ–¥–∏—Ç–µ –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ `parameters.ts` —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π.

---

## üîå –®–∞–≥ 3: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä

### 3.1. –û–±–Ω–æ–≤–∏—Ç—å parsers/index.js

```javascript
// backend/src/parsers/index.js
import { globalRegistry } from './ParserRegistry.js';
import { DetParser } from './formats/detParser.js';
import { PouParser } from './formats/pouParser.js';
import { XyzParser } from './formats/xyzParser.js'; // ‚Üê –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä

function registerParsers() {
  try {
    globalRegistry.register('det', DetParser);
    globalRegistry.register('pou', PouParser);
    globalRegistry.register('xyz', XyzParser); // ‚Üê –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º
  } catch (error) {
    if (!error.message.includes('—É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω')) {
      throw error;
    }
  }
}

registerParsers();

// ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```

### 3.2. –û–±–Ω–æ–≤–∏—Ç—å formatDetector.js

```javascript
// backend/src/parsers/common/formatDetector.js

function detectFormatByExtension(filePath) {
  const lowerPath = filePath.toLowerCase();

  if (lowerPath.endsWith('.det')) return 'det';
  if (lowerPath.endsWith('.pou')) return 'pou';
  if (lowerPath.endsWith('.xyz')) return 'xyz'; // ‚Üê –î–æ–±–∞–≤–ª—è–µ–º

  return null;
}

function detectFormatByContent(firstLine) {
  const parts = firstLine.split(/\s+/).filter(Boolean);

  if (parts.length === 2) return 'det';
  if (parts.length >= 5) return 'pou';
  if (parts.length === X) return 'xyz'; // ‚Üê –î–æ–±–∞–≤–ª—è–µ–º –ª–æ–≥–∏–∫—É –¥–ª—è .xyz

  return null;
}
```

### 3.3. –û–±–Ω–æ–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã

```typescript
// backend/src/types/engineData.ts

// 1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
export interface XyzMetadata {
  numCylinders: number;
  engineType: string;
  // ... –ø–æ–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è .xyz
}

export type EngineMetadata = DetMetadata | PouMetadata | XyzMetadata;

// 2. –î–æ–±–∞–≤–∏—Ç—å DataPoint
export interface XyzDataPoint {
  RPM: number;
  'P-Av': number;
  Torque: number;
  // ... –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è .xyz
}

export type DataPoint = DetDataPoint | PouDataPoint | XyzDataPoint;

// 3. –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç
export interface EngineProject {
  fileName: string;
  format: 'det' | 'pou' | 'xyz'; // ‚Üê –î–æ–±–∞–≤–∏—Ç—å 'xyz'
  metadata: EngineMetadata;
  columnHeaders: string[];
  calculations: Calculation[];
}
```

### 3.4. –û–±–Ω–æ–≤–∏—Ç—å fileScanner.js

```javascript
// backend/src/services/fileScanner.js

// –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
export async function scanDirectory(
  directoryPath,
  extensions = ['.det', '.pou', '.xyz'] // ‚Üê –î–æ–±–∞–≤–∏—Ç—å '.xyz'
) {
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}

export async function scanProjects(
  directoryPath,
  extensions = ['.det', '.pou', '.xyz'], // ‚Üê –î–æ–±–∞–≤–∏—Ç—å '.xyz'
  maxFileSize = 0
) {
  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
}

// –í —Ñ—É–Ω–∫—Ü–∏–∏ scanProjects, –≤ fallback –¥–ª—è –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞:
return {
  // ... existing fields
  format: file.name.endsWith('.pou')
    ? 'pou'
    : file.name.endsWith('.xyz')
      ? 'xyz'
      : 'det', // ‚Üê –û–±–Ω–æ–≤–∏—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞
  // ... rest of fields
};
```

---

## ‚úÖ –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
cp /path/to/examples/*.xyz test-data/
```

### 4.2. –ó–∞–ø—É—Å–∫ backend

```bash
./scripts/start.sh
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
```
[ParserRegistry] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–æ –ø–∞—Ä—Å–µ—Ä–æ–≤: 3
  - det: DetParser
  - pou: PouParser
  - xyz: XyzParser
```

### 4.3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

**1. –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤:**
```bash
curl http://localhost:3000/api/projects | jq
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "projects": [
    {
      "id": "example-xyz",
      "fileName": "example.xyz",
      "format": "xyz",
      "engineType": "NATUR",
      "numCylinders": 4,
      "calculationsCount": 2
    }
  ]
}
```

**2. –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞:**
```bash
curl http://localhost:3000/api/project/example-xyz | jq
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "project": {
    "fileName": "example.xyz",
    "format": "xyz",
    "metadata": { ... },
    "calculations": [ ... ]
  }
}
```

### 4.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ UI

1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:5173
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - [ ] –§–∞–π–ª .xyz –ø–æ—è–≤–∏–ª—Å—è –≤ —Å–ø–∏—Å–∫–µ –ø—Ä–æ–µ–∫—Ç–æ–≤
   - [ ] –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
   - [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - [ ] –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
   - [ ] Badge —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "xyz"

### 4.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- –§–∞–π–ª <1 MB: <100ms
- –§–∞–π–ª 1-5 MB: <300ms
- –§–∞–π–ª 5-10 MB: <800ms

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö backend:**
```
[ParserAPI] –ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ example.xyz –∑–∞–Ω—è–ª: 85ms
```

---

## üìö –®–∞–≥ 5: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 5.1. –°–æ–∑–¥–∞—Ç—å —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∞

–°–æ–∑–¥–∞–π –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:
```
docs/file-formats/xyz-format.md
```

**–°–º. –ø—Ä–∏–º–µ—Ä—ã:**
- [det-format.md](file-formats/det-format.md)
- [pou-format.md](file-formats/pou-format.md)

### 5.2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞

```bash
# –°–æ–∑–¥–∞—Ç—å –∞–Ω–Ω–æ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä
touch docs/file-formats/examples/sample.xyz
```

### 5.3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

–î–æ–±–∞–≤–∏—Ç—å –≤ [comparison.md](file-formats/comparison.md) —Ä–∞–∑–¥–µ–ª —Å .xyz —Ñ–æ—Ä–º–∞—Ç–æ–º.

### 5.4. –û–±–Ω–æ–≤–∏—Ç—å README –ø—Ä–æ–µ–∫—Ç–∞

```markdown
## Supported File Formats

| Format | Extension | Parameters | Status |
|--------|-----------|------------|--------|
| DET | `.det` | 24 | ‚úÖ Supported |
| POU | `.pou` | 71 | ‚úÖ Supported |
| XYZ | `.xyz` | XX | ‚úÖ Supported |
```

### 5.5. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG

```markdown
## [Unreleased]

### Added
- Support for .xyz file format (XX parameters)
- Parser: XyzParser implementing Registry pattern
- Documentation: xyz-format.md specification
- Example file: docs/file-formats/examples/sample.xyz
- TypeScript types: XyzMetadata, XyzDataPoint

### Changed
- Updated formatDetector.js with .xyz detection
- Extended fileScanner.js default extensions
- Updated ParserRegistry with xyz parser
```

### 5.6. –û–±–Ω–æ–≤–∏—Ç—å file-formats/README.md

```markdown
| –§–æ—Ä–º–∞—Ç | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –ü–∞—Ä—Å–µ—Ä | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|--------|-----------|-----------|--------|--------------|--------|
| DET | `.det` | 24 | `detParser.js` | [det-format.md](det-format.md) | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| POU | `.pou` | 71 | `pouParser.js` | [pou-format.md](pou-format.md) | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| XYZ | `.xyz` | XX | `xyzParser.js` | [xyz-format.md](xyz-format.md) | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
```

---

## üîç Checklist: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [ ] –ü–æ–ª—É—á–∏–ª —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã (2-3 –ø—Ä–∏–º–µ—Ä–∞)
- [ ] –°–æ—Ö—Ä–∞–Ω–∏–ª –≤ `test-data/`
- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞
- [ ] –ò–∑—É—á–∏–ª –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–∞ (edge cases)
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏–ª –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### –ö–æ–¥
- [ ] –°–æ–∑–¥–∞–ª –ø–∞—Ä—Å–µ—Ä: `backend/src/parsers/formats/xyzParser.js`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–ª –∫–ª–∞—Å—Å `XyzParser` —Å –º–µ—Ç–æ–¥–æ–º `parse()`
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª common utilities (`cleanLine`, `parseCalculationMarker`)
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –µ–¥–∏–Ω–æ–º JSON —Ñ–æ—Ä–º–∞—Ç–µ
- [ ] –í–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ `format: 'xyz'`
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –æ—à–∏–±–∫–∏ –∏ edge cases

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª –ø–∞—Ä—Å–µ—Ä –≤ `parsers/index.js`
- [ ] –û–±–Ω–æ–≤–∏–ª `formatDetector.js` (extension + content detection)
- [ ] –û–±–Ω–æ–≤–∏–ª TypeScript —Ç–∏–ø—ã (`engineData.ts`)
- [ ] –û–±–Ω–æ–≤–∏–ª `fileScanner.js` (–¥–æ–±–∞–≤–∏–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ defaults)
- [ ] –ü–∞—Ä—Å–µ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Registry

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Backend –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü–∞—Ä—Å–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö
- [ ] API `/projects` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç .xyz —Ñ–∞–π–ª—ã
- [ ] API `/project/<id>` –ø–∞—Ä—Å–∏—Ç .xyz –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] UI: —Ñ–∞–π–ª –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ
- [ ] UI: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] UI: –≥—Ä–∞—Ñ–∏–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] UI: —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] UI: badge —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤—Ä–µ–º—è –ø–∞—Ä—Å–∏–Ω–≥–∞)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞–ª `docs/file-formats/xyz-format.md`
- [ ] –°–æ–∑–¥–∞–ª –ø—Ä–∏–º–µ—Ä: `docs/file-formats/examples/sample.xyz`
- [ ] –û–±–Ω–æ–≤–∏–ª `docs/file-formats/README.md`
- [ ] –û–±–Ω–æ–≤–∏–ª `docs/file-formats/comparison.md`
- [ ] –û–±–Ω–æ–≤–∏–ª `README.md` (Supported Formats)
- [ ] –û–±–Ω–æ–≤–∏–ª `CHANGELOG.md` ([Unreleased] —Å–µ–∫—Ü–∏—è)

### –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –°–¥–µ–ª–∞–ª –∫–æ–º–º–∏—Ç —Å –ø–æ–Ω—è—Ç–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –≤ Chrome –∏ Safari
- [ ] –û–±–Ω–æ–≤–∏–ª roadmap.md –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

## üéì –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: DetParser (24 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞)

**–§–∞–π–ª:** [backend/src/parsers/formats/detParser.js](../backend/src/parsers/formats/detParser.js)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (2 –ø–æ–ª—è)
- 5 –º–∞—Å—Å–∏–≤–æ–≤ –ø–æ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º
- –ü–∞—Ä–∞–º–µ—Ç—Ä Convergence –≤ –∫–æ–Ω—Ü–µ

### –ü—Ä–∏–º–µ—Ä 2: PouParser (71 –ø–∞—Ä–∞–º–µ—Ç—Ä)

**–§–∞–π–ª:** [backend/src/parsers/formats/pouParser.js](../backend/src/parsers/formats/pouParser.js)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (5 –ø–æ–ª–µ–π)
- 16 –º–∞—Å—Å–∏–≤–æ–≤ –ø–æ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º
- –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å
- Vibe –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ –∫–æ–Ω—Ü–µ
- **Parameter Mapping:** `Purc` ‚Üí `PurCyl` —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Temperature Data:** –í—Å–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ ¬∞C (–Ω–µ Kelvin)

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| Aspect | DetParser | PouParser |
|--------|-----------|-----------|
| –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ | 2 –ø–æ–ª—è | 5 –ø–æ–ª–µ–π |
| –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | 24 | 71 |
| –ú–∞—Å—Å–∏–≤—ã | 5 | 16 |
| –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è | –ü—Ä–æ—Å—Ç–∞—è | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è (idx++) |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –°—Ä–µ–¥–Ω—è—è |

---

## üîó –°—Å—ã–ª–∫–∏

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–æ–≤
- [.det Format Specification](file-formats/det-format.md) - 24 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- [.pou Format Specification](file-formats/pou-format.md) - 71 –ø–∞—Ä–∞–º–µ—Ç—Ä
- [Format Comparison](file-formats/comparison.md) - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤

### –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
- [DetParser](../backend/src/parsers/formats/detParser.js) - –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞
- [PouParser](../backend/src/parsers/formats/pouParser.js) - –ü—Ä–∏–º–µ—Ä —Å–ª–æ–∂–Ω–æ–≥–æ –ø–∞—Ä—Å–µ—Ä–∞
- [ParserRegistry](../backend/src/parsers/ParserRegistry.js) - Registry pattern
- [Format Detector](../backend/src/parsers/common/formatDetector.js) - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- [Calculation Marker](../backend/src/parsers/common/calculationMarker.js) - –ü–∞—Ä—Å–∏–Ω–≥ $

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [README.md](../README.md) - –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [Architecture](architecture.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [API Documentation](api.md) - REST API endpoints

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Registry Pattern

**1. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞
- –ü—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ

**2. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ:**
- –í—Å–µ –ø–∞—Ä—Å–µ—Ä—ã —Å–ª–µ–¥—É—é—Ç –æ–¥–Ω–æ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

**3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- –§–æ—Ä–º–∞—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Registry

**4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å:**
- –ö–∞–∂–¥—ã–π –ø–∞—Ä—Å–µ—Ä –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

**5. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ if/else —Ü–µ–ø–æ—á–∫–∞—Ö

---

**–ì–æ—Ç–æ–≤–æ! –°–ª–µ–¥—É–π —ç—Ç–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–æ–≤.** üöÄ
