# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Ğ”Ğ°Ñ‚Ğ°:** 21 Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ 2025
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0

---

## ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER (Browser)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP requests
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (React + Vite)                       â”‚
â”‚                   http://localhost:5173                          â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   HomePage   â”‚   â”‚ ProjectPage  â”‚   â”‚  Components  â”‚       â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚              â”‚       â”‚
â”‚  â”‚ - List       â”‚   â”‚ - Charts     â”‚   â”‚ - Chart      â”‚       â”‚
â”‚  â”‚   projects   â”‚   â”‚ - Selector   â”‚   â”‚ - Table      â”‚       â”‚
â”‚  â”‚              â”‚   â”‚ - Table      â”‚   â”‚ - Cards      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                  â”‚                                     â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚                                               â”‚                 â”‚
â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                        â”‚     API Client (axios)       â”‚         â”‚
â”‚                        â”‚  - getProjects()             â”‚         â”‚
â”‚                        â”‚  - getProject(id)            â”‚         â”‚
â”‚                        â”‚  - getConfig()               â”‚         â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                         â”‚ /api/* requests
                                         â”‚ (Vite proxy)
                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND (Node.js + Express)                    â”‚
â”‚                   http://localhost:3000                          â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                   Express Server                      â”‚      â”‚
â”‚  â”‚  - CORS middleware                                    â”‚      â”‚
â”‚  â”‚  - JSON parsing                                       â”‚      â”‚
â”‚  â”‚  - Error handling                                     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                             â”‚                                    â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚          â”‚                  â”‚                  â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  GET /health   â”‚ â”‚ GET /api/   â”‚  â”‚ GET /api/      â”‚      â”‚
â”‚  â”‚                â”‚ â”‚  projects   â”‚  â”‚  project/:id   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                            â”‚                  â”‚               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                    â”‚      Services Layer               â”‚      â”‚
â”‚                    â”‚  - fileScanner.js                 â”‚      â”‚
â”‚                    â”‚  - fileParser.js                  â”‚      â”‚
â”‚                    â”‚  - config.js                      â”‚      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                            â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Read files
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FILE SYSTEM                                 â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ config.yaml  â”‚        â”‚  test-data/  â”‚                      â”‚
â”‚  â”‚              â”‚        â”‚              â”‚                      â”‚
â”‚  â”‚ - Settings   â”‚        â”‚ - *.det      â”‚                      â”‚
â”‚  â”‚ - Colors     â”‚        â”‚   files      â”‚                      â”‚
â”‚  â”‚ - Paths      â”‚        â”‚              â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

### 1. Separation of Concerns (Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸)

**Backend:**
- **Routes** - Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ HTTP Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- **Services** - Ğ²ÑÑ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
- **Config** - Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸

**Frontend:**
- **Pages** - ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
- **Components** - Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ UI ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹
- **Hooks** - Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¸ state management
- **API** - HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚, Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ğ¾Ñ‚ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

### 2. Single Responsibility (ĞĞ´Ğ½Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ)

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ Ğ´ĞµĞ»Ğ°ĞµÑ‚ ĞĞ”ĞĞ£ Ğ²ĞµÑ‰ÑŒ:
- `fileParser.js` - Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ .det Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- `fileScanner.js` - Ğ¢ĞĞ›Ğ¬ĞšĞ ÑĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸
- `ChartComponent` - Ğ¢ĞĞ›Ğ¬ĞšĞ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°

### 3. DRY (Don't Repeat Yourself)

- ĞĞ±Ñ‰Ğ¸Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ²Ñ‹Ğ½ĞµÑĞµĞ½Ñ‹ Ğ² `components/`
- Custom hooks Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ğ¾Ğ¹ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
- Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ² `utils/`

### 4. Layered Architecture (Ğ¡Ğ»Ğ¾Ğ¸ÑÑ‚Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)

```
Presentation Layer (UI)
         â†“
Business Logic Layer (Services, Hooks)
         â†“
Data Access Layer (API, File System)
```

---

## Backend Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### Ğ¡Ğ»Ğ¾Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PRESENTATION LAYER                 â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Express Routes              â”‚  â”‚
â”‚  â”‚  - routes/projects.js            â”‚  â”‚
â”‚  â”‚  - routes/data.js                â”‚  â”‚
â”‚  â”‚  - routes/config.js              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Call services
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BUSINESS LOGIC LAYER               â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Services                 â”‚  â”‚
â”‚  â”‚  - fileScanner.scanFolder()      â”‚  â”‚
â”‚  â”‚  - fileParser.parse()            â”‚  â”‚
â”‚  â”‚  - config.load()                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Read/Write
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DATA ACCESS LAYER                  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      File System                 â”‚  â”‚
â”‚  â”‚  - test-data/*.det               â”‚  â”‚
â”‚  â”‚  - config.yaml                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞœĞ¾Ğ´ÑƒĞ»Ğ¸

**server.js** - Express ÑĞµÑ€Ğ²ĞµÑ€
- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Express
- Middleware (CORS, JSON parsing)
- ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ routes
- Error handling
- Ğ—Ğ°Ğ¿ÑƒÑĞº ÑĞµÑ€Ğ²ĞµÑ€Ğ°

**config.js** - Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
- Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ config.yaml
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ YAML â†’ JavaScript Ğ¾Ğ±ÑŠĞµĞºÑ‚
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº

**fileScanner.js** - Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- Ğ¡ĞºĞ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸ test-data/
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ñ (.det)
- ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ´Ğ°Ñ‚Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ, Ñ€Ğ°Ğ·Ğ¼ĞµÑ€)
- Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ÑĞ¿Ğ¸ÑĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

**fileParser.js** - ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ .det Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ°
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ñ‚Ğ¸Ğ¿ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ, Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ñ‹)
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº
- **âš ï¸ Ğ£Ñ‡Ñ‘Ñ‚ ÑĞ»ÑƒĞ¶ĞµĞ±Ğ½Ğ¾Ğ¹ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¹ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸!**
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² (Ğ¼Ğ°Ñ€ĞºĞµÑ€Ñ‹ $1, $2, ...)
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ³Ğ¾ JSON

**routes/projects.js** - API Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²
- GET /api/projects
- Ğ’Ñ‹Ğ·Ğ¾Ğ² fileScanner
- Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°

**routes/data.js** - API Ğ´Ğ»Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- GET /api/project/:id
- Ğ’Ñ‹Ğ·Ğ¾Ğ² fileParser
- Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°

**routes/config.js** - API Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸
- GET /api/config - Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- POST /api/config - Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

---

## Frontend Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

### Ğ¡Ğ»Ğ¾Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      PRESENTATION LAYER                 â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Pages                   â”‚  â”‚
â”‚  â”‚  - HomePage.tsx                  â”‚  â”‚
â”‚  â”‚  - ProjectPage.tsx               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Components                â”‚  â”‚
â”‚  â”‚  - ProjectCard.tsx               â”‚  â”‚
â”‚  â”‚  - ChartPreset1.tsx              â”‚  â”‚
â”‚  â”‚  - DataTable.tsx                 â”‚  â”‚
â”‚  â”‚  - CalculationSelector.tsx       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ Use hooks
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BUSINESS LOGIC LAYER               â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        Custom Hooks              â”‚  â”‚
â”‚  â”‚  - useProjects()                 â”‚  â”‚
â”‚  â”‚  - useProjectData(id)            â”‚  â”‚
â”‚  â”‚  - useSelectedCalculations()     â”‚  â”‚
â”‚  â”‚  - useChartPreset()              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          Utils                   â”‚  â”‚
â”‚  â”‚  - formatDate()                  â”‚  â”‚
â”‚  â”‚  - exportToCSV()                 â”‚  â”‚
â”‚  â”‚  - exportToPNG()                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚ HTTP requests
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      DATA ACCESS LAYER                  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        API Client                â”‚  â”‚
â”‚  â”‚  - api/client.ts                 â”‚  â”‚
â”‚  â”‚  - getProjects()                 â”‚  â”‚
â”‚  â”‚  - getProject(id)                â”‚  â”‚
â”‚  â”‚  - getConfig()                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞœĞ¾Ğ´ÑƒĞ»Ğ¸

**App.tsx** - Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
- React Router setup
- Routes (/, /:projectId)
- Layout

**pages/HomePage.tsx** - Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ useProjects() hook
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹ (loading, error, empty)

**pages/ProjectPage.tsx** - Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- Ğ¡ĞµĞ»ĞµĞºÑ‚Ğ¾Ñ€ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²
- ĞŸÑ€ĞµÑĞµÑ‚Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

**components/** - ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
- `ProjectCard` - ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- `MetadataDialog` - Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- `TagInput` - ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ‚ĞµĞ³Ğ°Ğ¼Ğ¸
- `LoadingSpinner` - Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
- `ErrorMessage` - ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ± Ğ¾ÑˆĞ¸Ğ±ĞºĞµ
- `EmptyState` - Ğ¿ÑƒÑÑ‚Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ
- **Visualization components:**
  - `CalculationSelector` - Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² (Ğ¼Ğ°ĞºÑ 5) Ñ checkbox Ğ¸ Ñ†Ğ²ĞµÑ‚Ğ½Ñ‹Ğ¼Ğ¸ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ğ°Ğ¼Ğ¸
  - `ChartPreset1` - Ğ³Ñ€Ğ°Ñ„Ğ¸Ğº "ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚" (dual Y-axes) âœ…
  - `ChartPreset2` - Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
  - `ChartPreset3` - Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
  - `ChartPreset4` - Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ
  - `DataTable` - Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)

**hooks/** - Custom hooks
- `useProjects` - Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ² âœ…
- `useProjectData` - Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ¿Ğ¾ ID (Ñ race condition handling) âœ…
- `useSelectedCalculations` - ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°Ğ¼Ğ¸ (Ğ¼Ğ°ĞºÑ 5) âœ…
- `useChartPreset` - ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµÑĞµÑ‚Ğ°Ğ¼Ğ¸ (Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ)

**api/client.ts** - API ĞºĞ»Ğ¸ĞµĞ½Ñ‚
- Axios instance
- HTTP Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹ (GET, POST)
- ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- Ğ¢Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²/Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²

**types/** - TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
- `EngineMetadata` - Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ
- `DataPoint` - Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- `Calculation` - Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚
- `ProjectData` - Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- UI Ñ‚Ğ¸Ğ¿Ñ‹

**utils/** - Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
- `formatDate` - Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ñ‚
- `exportToCSV` - ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² CSV
- `exportToExcel` - ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² Excel
- `exportToPNG` - ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ° Ğ² PNG

---

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### GET /api/projects

```
User clicks on HomePage
         â†“
HomePage.tsx calls useProjects()
         â†“
useProjects() calls api.getProjects()
         â†“
api.getProjects() â†’ GET /api/projects
         â†“
Backend routes/projects.js
         â†“
fileScanner.scanFolder()
         â†“
Read test-data/ folder
         â†“
Return list of .det files
         â†“
Response: [{id, name, date, calculations}, ...]
         â†“
useProjects() updates state
         â†“
HomePage.tsx re-renders with data
```

### GET /api/project/:id

```
User clicks "ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ" on ProjectCard
         â†“
Navigate to /project/:id
         â†“
ProjectPage.tsx calls useProjectData(id)
         â†“
useProjectData() calls api.getProject(id)
         â†“
api.getProject(id) â†’ GET /api/project/:id
         â†“
Backend routes/data.js
         â†“
fileParser.parse(filename)
         â†“
Read test-data/Vesta 1.6 IM.det
         â†“
Parse file:
  - Line 1: metadata (cylinders, type)
  - Line 2: column names
  - Line 3+: calculations ($1, $2) and data
         â†“
Return ProjectData JSON
         â†“
Response: {project_name, engine, parameters, calculations}
         â†“
useProjectData() updates state
         â†“
ProjectPage.tsx re-renders with data
         â†“
Charts display data
```

---

## Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### ProjectData (JSON)

```typescript
interface ProjectData {
  project_name: string;           // "Vesta 1.6 IM"
  file_path: string;              // "test-data/Vesta 1.6 IM.det"
  modified_date: string;          // ISO 8601 date
  engine: {
    type: string;                 // "NATUR"
    cylinders: number;            // 4
  };
  parameters: string[];           // ["RPM", "P-Av", "Torque", ...]
  calculations: Calculation[];    // [...]
}

interface Calculation {
  id: string;                     // "$1", "$2", "$3"
  name: string;                   // "$1", "$2", "$3"
  data: DataPoint[];              // [...]
}

interface DataPoint {
  RPM: number;
  "P-Av": number;
  Torque: number;
  "PurCyl( 1)": number;
  // ... Ğ²ÑĞµ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹
}
```

---

## Metadata System (Project Metadata v1.0) ğŸ”§

**Status:** âœ… Implemented (Phase 1 complete, Nov 2025)

**Purpose:** ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ Ğ¸Ğ· `.prt` Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ° read-only (auto) Ğ¸ user-editable (manual) ÑĞµĞºÑ†Ğ¸Ğ¸.

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Metadata System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FILE SYSTEM (.prt files)                      â”‚
â”‚  test-data/                                                      â”‚
â”‚    â”œâ”€â”€ BMW M42/BMW M42.prt                                       â”‚
â”‚    â”œâ”€â”€ 4_Cyl_ITB/4_Cyl_ITB.prt                                   â”‚
â”‚    â””â”€â”€ Vesta 1.6 IM/Vesta 1.6 IM.prt                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Parse .prt files
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRT PARSER                                    â”‚
â”‚  backend/src/parsers/formats/prtParser.js                        â”‚
â”‚                                                                  â”‚
â”‚  Extract:                                                        â”‚
â”‚  - Engine specs (cylinders, bore, stroke, CR, maxRPM)           â”‚
â”‚  - Type detection (NA/Turbo/Supercharged)                       â”‚
â”‚  - Intake system (ITB vs IM)                                    â”‚
â”‚  - Exhaust pattern (4-2-1, 4-1, tri-y, etc.)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Auto metadata
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  METADATA SERVICE                                â”‚
â”‚  backend/src/services/metadataService.js                         â”‚
â”‚                                                                  â”‚
â”‚  updateAutoMetadata(projectId, autoData)                        â”‚
â”‚  - Reads existing .metadata/{id}.json                            â”‚
â”‚  - Updates "auto" section ONLY                                  â”‚
â”‚  - Preserves "manual" section                                   â”‚
â”‚  - Saves merged metadata                                         â”‚
â”‚                                                                  â”‚
â”‚  updateManualMetadata(projectId, manualData)                    â”‚
â”‚  - Reads existing .metadata/{id}.json                            â”‚
â”‚  - Updates "manual" section ONLY                                â”‚
â”‚  - Preserves "auto" section                                     â”‚
â”‚  - Saves merged metadata                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ Save to disk
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              METADATA STORAGE (.metadata/*.json)                 â”‚
â”‚                                                                  â”‚
â”‚  .metadata/bmw-m42.json:                                         â”‚
â”‚  {                                                               â”‚
â”‚    "version": "1.0",                                             â”‚
â”‚    "id": "bmw-m42",                                              â”‚
â”‚    "displayName": "BMW M42",                                     â”‚
â”‚    "auto": {                                                     â”‚
â”‚      "cylinders": 4,                                             â”‚
â”‚      "type": "NA",                                               â”‚
â”‚      "configuration": "inline",                                  â”‚
â”‚      "intakeSystem": "ITB",                                      â”‚
â”‚      "exhaustSystem": "4-2-1"                                    â”‚
â”‚    },                                                            â”‚
â”‚    "manual": {                                                   â”‚
â”‚      "client": "Ivan Petrov",                                    â”‚
â”‚      "tags": ["track-build"],                                    â”‚
â”‚      "notes": "Dyno tested"                                      â”‚
â”‚    }                                                             â”‚
â”‚  }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Metadata Structure v1.0

**TypeScript Interface:**
```typescript
export interface AutoMetadata {
  cylinders: number;                    // From .prt: number of cylinders
  type: 'NA' | 'Turbo' | 'Supercharged'; // Engine type
  configuration: EngineConfiguration;   // inline, V, boxer, etc.
  bore: number;                         // Bore (mm)
  stroke: number;                       // Stroke (mm)
  compressionRatio: number;             // Compression ratio
  maxPowerRPM: number;                  // Max power RPM
  intakeSystem: IntakeSystem;           // ITB or IM
  exhaustSystem: ExhaustSystem;         // 4-2-1, 4-1, tri-y, etc.
}

export interface ManualMetadata {
  description?: string;     // User description
  client?: string;          // Client name
  tags?: string[];          // User tags
  status?: ProjectStatus;   // active, completed, archived
  notes?: string;           // User notes
  color?: string;           // Project color (hex)
}

export interface ProjectMetadata {
  version: '1.0';
  id: string;
  displayName?: string;
  auto?: AutoMetadata;      // Read-only (from .prt)
  manual: ManualMetadata;   // User-editable
  created: string;          // ISO 8601
  modified: string;         // ISO 8601
}
```

### .prt Parser Implementation

**File:** `backend/src/parsers/formats/prtParser.js`

**Parsing Logic:**

1. **Engine Specs Extraction:**
   ```javascript
   // Line 1: Header with engine name
   // Line 2-10: Engine specifications
   // Line ~50: "Maximum power obtained at _____ rpm" â†’ maxPowerRPM
   // Line ~100: Bore, stroke, compression ratio
   ```

2. **Intake System Detection:**
   ```javascript
   // Line 276: "N throttles - with no airboxes" â†’ ITB
   // Line 276: "N throttle - with a common airbox or plenum" â†’ IM

   if (line.includes('with no airboxes')) {
     intakeSystem = 'ITB';
   } else if (line.includes('with a common airbox or plenum')) {
     intakeSystem = 'IM';
   }
   ```

3. **Exhaust System Parsing:**
   ```javascript
   // Regex patterns for exhaust configuration
   // "4into2into1 manifold" â†’ "4-2-1"
   // "4into1 manifold" â†’ "4-1"
   // "tri-y manifold" â†’ "tri-y"

   const patterns = [
     { regex: /(\d+)into(\d+)into(\d+)/i, format: '$1-$2-$3' },
     { regex: /(\d+)into(\d+)/i, format: '$1-$2' },
     { regex: /tri-y/i, format: 'tri-y' }
   ];
   ```

4. **Type Detection:**
   ```javascript
   // Based on turbocharger/supercharger count
   if (turbochargers > 0) {
     engineType = 'Turbo';
   } else if (superchargers > 0) {
     engineType = 'Supercharged';
   } else {
     engineType = 'NA';
   }
   ```

**Registry Integration:**
```javascript
// backend/src/parsers/index.js
import { PrtParser } from './formats/prtParser.js';
import { globalRegistry } from './registry/FormatRegistry.js';

globalRegistry.register('prt', PrtParser);
```

### Metadata Service

**File:** `backend/src/services/metadataService.js`

**Key Functions:**

```javascript
/**
 * Update auto metadata (from .prt parser)
 * - Preserves manual section
 * - Overwrites auto section
 */
export async function updateAutoMetadata(projectId, autoData) {
  const metadataPath = `.metadata/${projectId}.json`;

  // Read existing metadata
  let metadata = await readMetadata(projectId);

  // Update auto section only
  metadata.auto = autoData;
  metadata.modified = new Date().toISOString();

  // Save (preserves manual section)
  await fs.writeFile(metadataPath, JSON.stringify(metadata, null, 2));
}

/**
 * Update manual metadata (from user)
 * - Preserves auto section
 * - Overwrites manual section
 */
export async function updateManualMetadata(projectId, manualData) {
  const metadataPath = `.metadata/${projectId}.json`;

  // Read existing metadata
  let metadata = await readMetadata(projectId);

  // Update manual section only
  metadata.manual = { ...metadata.manual, ...manualData };
  metadata.modified = new Date().toISOString();

  // Save (preserves auto section)
  await fs.writeFile(metadataPath, JSON.stringify(metadata, null, 2));
}
```

### File Scanner Integration

**File:** `backend/src/services/fileScanner.js`

**Recursive Directory Scanning:**
```javascript
async function scanDirectory(dirPath) {
  const projects = [];

  for (const entry of await fs.readdir(dirPath, { withFileTypes: true })) {
    if (entry.isDirectory()) {
      // Recursively scan subdirectories
      const subProjects = await scanDirectory(path.join(dirPath, entry.name));
      projects.push(...subProjects);
    } else if (entry.isFile()) {
      // Check if .det or .pou file
      if (entry.name.endsWith('.det') || entry.name.endsWith('.pou')) {
        // Check for corresponding .prt file
        const prtPath = entry.name.replace(/\.(det|pou)$/, '.prt');
        const prtFullPath = path.join(dirPath, prtPath);

        if (await fileExists(prtFullPath)) {
          // Parse .prt for auto metadata
          const autoMetadata = await prtParser.parse(prtFullPath);

          // Update auto metadata (preserves manual)
          await metadataService.updateAutoMetadata(projectId, autoMetadata);
        }

        projects.push({
          id: projectId,
          name: entry.name,
          path: path.join(dirPath, entry.name),
          metadata: await metadataService.readMetadata(projectId)
        });
      }
    }
  }

  return projects;
}
```

**New Directory Structure Support:**
```
test-data/
  â”œâ”€â”€ BMW M42/
  â”‚   â”œâ”€â”€ BMW M42.det
  â”‚   â”œâ”€â”€ BMW M42.pou
  â”‚   â””â”€â”€ BMW M42.prt          â† Auto metadata source
  â”œâ”€â”€ 4_Cyl_ITB/
  â”‚   â”œâ”€â”€ 4_Cyl_ITB.det
  â”‚   â”œâ”€â”€ 4_Cyl_ITB.pou
  â”‚   â””â”€â”€ 4_Cyl_ITB.prt
  â””â”€â”€ .metadata/
      â”œâ”€â”€ bmw-m42.json         â† Combined auto + manual
      â””â”€â”€ 4-cyl-itb.json
```

### API Updates

**GET /api/projects** - List projects with filters

```javascript
// routes/projects.js
router.get('/api/projects', async (req, res) => {
  const { cylinders, type, intake, exhaust } = req.query;

  // Scan all projects
  const projects = await fileScanner.scanFolder('./test-data');

  // Apply filters on metadata.auto.*
  let filtered = projects;

  if (cylinders) {
    filtered = filtered.filter(p => p.metadata?.auto?.cylinders === parseInt(cylinders));
  }

  if (type) {
    filtered = filtered.filter(p => p.metadata?.auto?.type === type);
  }

  if (intake) {
    filtered = filtered.filter(p => p.metadata?.auto?.intakeSystem === intake);
  }

  if (exhaust) {
    filtered = filtered.filter(p => p.metadata?.auto?.exhaustSystem === exhaust);
  }

  res.json(filtered);
});
```

**POST /api/projects/:id/metadata** - Update manual metadata only

```javascript
// routes/metadata.js
router.post('/api/projects/:id/metadata', async (req, res) => {
  const { id } = req.params;
  const manualData = req.body;

  // Update ONLY manual section (preserves auto)
  await metadataService.updateManualMetadata(id, manualData);

  res.json({ success: true });
});
```

### Data Flow: Metadata Population

```
1. User adds new .det + .prt files to test-data/

2. Backend scans test-data/ (recursive)
   â†“
   fileScanner.scanFolder()

3. For each .det file found, check for .prt sibling
   â†“
   const prtPath = detPath.replace('.det', '.prt')

4. If .prt exists, parse it
   â†“
   prtParser.parse(prtPath)

5. Extract auto metadata from .prt
   â†“
   { cylinders, type, intake, exhaust, ... }

6. Update auto metadata in .metadata/{id}.json
   â†“
   metadataService.updateAutoMetadata(id, autoData)

7. Merge with existing manual metadata
   â†“
   metadata = { auto: {...}, manual: {...} }

8. Return merged metadata to frontend
   â†“
   GET /api/projects â†’ ProjectInfo[] with metadata
```

### Migration from Legacy Metadata

**Script:** `backend/scripts/migrate-metadata.js`

**Purpose:** Migrate old metadata files (no auto/manual split) to v1.0 structure

```javascript
async function migrateMetadata(oldMetadataPath) {
  const oldMetadata = JSON.parse(await fs.readFile(oldMetadataPath, 'utf-8'));

  const newMetadata = {
    version: '1.0',
    id: oldMetadata.id,
    displayName: oldMetadata.displayName,

    // Empty auto section (will be filled on first scan)
    auto: {},

    // Move user data to manual section
    manual: {
      description: oldMetadata.description,
      client: oldMetadata.client,
      tags: oldMetadata.tags,
      status: oldMetadata.status,
      notes: oldMetadata.notes,
      color: oldMetadata.color
    },

    created: oldMetadata.created || new Date().toISOString(),
    modified: new Date().toISOString()
  };

  await fs.writeFile(oldMetadataPath, JSON.stringify(newMetadata, null, 2));
}
```

### Rules and Principles

**Auto Metadata:**
- âœ… Source of truth: `.prt` file
- âœ… Read-only in frontend
- âœ… Updated automatically on file scan
- âœ… Never manually edited by user

**Manual Metadata:**
- âœ… Source of truth: `.metadata/{id}.json`
- âœ… User-editable in frontend
- âœ… Preserved during auto metadata updates
- âœ… Created/updated via API

**Re-parsing .prt files:**
- When: File scanner runs (app startup, manual rescan)
- Result: Auto section updated, manual section preserved
- Safety: Explicit separation prevents accidental data loss

**Benefits:**
- âœ… Automation: ~5 min/project Ã— 50 projects = 4 hours/year saved
- âœ… Accuracy: 100% accurate auto metadata (source of truth)
- âœ… Smart filters: Dashboard filters work automatically
- âœ… Data integrity: Manual data never lost during re-parse

**See Also:**
- [ADR 005: .prt Parser and Metadata Separation](decisions/005-prt-parser-metadata-separation.md)
- [PROJECT-METADATA-DASHBOARD-SPEC.md](../PROJECT-METADATA-DASHBOARD-SPEC.md)
- [docs/file-formats/prt-format.md](file-formats/prt-format.md)

---

## Frontend Components (Phase 2) âœ…

**Status:** âœ… Implemented (Phase 2.1-2.7 complete, Nov 2025)

**Purpose:** Dashboard UI Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ğ¼Ğ¸ Ñ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸, Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸ Ğ¸ Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼.

### HomePage Dashboard Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         HomePage                                 â”‚
â”‚  frontend/src/pages/HomePage.tsx                                 â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  FiltersBar (frontend/src/components/projects/FiltersBar)  â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  Search: [_____________]  [Type â–¾] [Intake â–¾] [Exhaust â–¾]  â”‚ â”‚
â”‚  â”‚          [Cylinders â–¾]   [Sort: Date â–¾]  [Clear all]       â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  Active filters: [Type: NA Ã—] [Intake: ITB Ã—]              â”‚ â”‚
â”‚  â”‚  Showing 8 of 50 projects                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Project Cards Grid (responsive 1/2/3 columns)            â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚  â”‚ ProjectCard  â”‚ â”‚ ProjectCard  â”‚ â”‚ ProjectCard  â”‚      â”‚  â”‚
â”‚  â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ BMW M42    âš™â”‚ â”‚ Vesta 1.6  âœ“â”‚ â”‚ 4 Cyl ITB  ğŸ“¦â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ ID: bmw-m42  â”‚ â”‚ ID: vesta..  â”‚ â”‚ ID: 4-cyl..  â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“Š 24 calcs  â”‚ â”‚ ğŸ“Š 18 calcs  â”‚ â”‚ ğŸ“Š 32 calcs  â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ [NA][4][ITB] â”‚ â”‚ [NA][4][IM]  â”‚ â”‚ [NA][4][ITB] â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ‘¤ BMW AG    â”‚ â”‚ ğŸ‘¤ (No clnt) â”‚ â”‚ ğŸ‘¤ Personal  â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ ğŸ“… 05 Nov 25 â”‚ â”‚ ğŸ“… 03 Nov 25 â”‚ â”‚ ğŸ“… 01 Nov 25 â”‚      â”‚  â”‚
â”‚  â”‚  â”‚ [âœï¸] [Open]   â”‚ â”‚ [âœï¸] [Open]   â”‚ â”‚ [âœï¸] [Open]   â”‚      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  MetadataDialog (when Edit clicked)                        â”‚ â”‚
â”‚  â”‚  frontend/src/components/projects/MetadataDialog.tsx       â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  [Ã—] Edit Metadata                                          â”‚ â”‚
â”‚  â”‚  Project: BMW M42.det                                       â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚ â”‚
â”‚  â”‚  ğŸ“‹ Project Identity                                        â”‚ â”‚
â”‚  â”‚     ID (readonly): bmw-m42                                  â”‚ â”‚
â”‚  â”‚     Display Name: [BMW M42________________]                 â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  ğŸ”§ Engine Configuration (read-only from .prt)             â”‚ â”‚
â”‚  â”‚     Cylinders: 4    Type: NA                               â”‚ â”‚
â”‚  â”‚     Config: inline  Intake: ITB                            â”‚ â”‚
â”‚  â”‚     Exhaust: 4-2-1  BoreÃ—Stroke: 84Ã—81mm                   â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  âœï¸ Manual Metadata (user-editable)                        â”‚ â”‚
â”‚  â”‚     Description: [___________________________]              â”‚ â”‚
â”‚  â”‚     Client: [BMW AG_____________________]                   â”‚ â”‚
â”‚  â”‚     Tags: [track-build] [dyno-tested]                       â”‚ â”‚
â”‚  â”‚     Status: [Active â–¾]                                      â”‚ â”‚
â”‚  â”‚     Color: [ğŸ”µ] ğŸ”µğŸŸ¢ğŸŸ ğŸ”´ğŸŸ£ğŸ”·                                â”‚ â”‚
â”‚  â”‚     Notes: [Dyno tested on 01.11.2025_______]               â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚                            [Cancel] [Save]                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ProjectCard Component

**File:** `frontend/src/components/projects/ProjectCard.tsx`

**Design Principles:**
- Show ONLY essential information on card (user feedback: "Configuration and Exhaust are irrelevant")
- Client field ALWAYS visible (user feedback: "CRITICAL information")
- Status badge prominent (user feedback: "Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğ¹ Ğ»ĞµĞ¹Ğ±Ğ»")

**Layout Structure:**
```typescript
<Card>
  <CardHeader>
    <DisplayName>BMW M42</DisplayName>        // Large, bold
    <ID>ID: bmw-m42</ID>                      // Small, muted
    <StatusBadge>Active</StatusBadge>         // Top-right corner
  </CardHeader>

  <CardContent>
    <CalculationsCount>24 calculations</CalculationsCount>

    <EngineBadge>                              // ONLY essential badges
      [NA]     // Type (blue/green/purple)
      [4 Cyl]  // Cylinders (gray)
      [ITB]    // Intake (orange/gray)
    </EngineBadge>

    <Client>BMW AG</Client>                    // ALWAYS show (or "(No client)")
    <Date>Modified: 05 Nov 2025</Date>
  </CardContent>

  <CardFooter>
    <EditButton />      // Icon button
    <OpenButton />      // Full width button
  </CardFooter>
</Card>
```

**Status Badge Configuration:**
```typescript
const statusConfig = {
  active: {
    label: 'Active',
    icon: Wrench,
    color: 'bg-blue-600 text-white hover:bg-blue-700'
  },
  completed: {
    label: 'Completed',
    icon: CheckCircle,
    color: 'bg-green-600 text-white hover:bg-green-700'
  },
  archived: {
    label: 'Archived',
    icon: Archive,
    color: 'bg-gray-600 text-white hover:bg-gray-700'
  }
};
```

**EngineBadge Color Coding:**
- **Type:** NA (green), Turbo (blue), Supercharged (purple)
- **Intake:** ITB (orange), IM (gray)
- **Cylinders:** Gray (neutral)

### MetadataDialog Component

**File:** `frontend/src/components/projects/MetadataDialog.tsx`

**Form Management:**
- **Library:** react-hook-form + zod validation
- **State:** Fully controlled components (important: Select uses `value={field.value}`, NOT `defaultValue`)
- **API:** Flat payload structure `{displayName, description, client, tags, status, notes, color}`

**Sections:**
```typescript
1. Project Identity
   - ID (readonly, disabled input)
   - Display Name (editable)

2. Engine Configuration (if .prt parsed)
   - Cylinders, Type, Configuration (all readonly)
   - Intake, Exhaust, BoreÃ—Stroke, CR, Max RPM (all readonly)
   - Source: metadata.auto (from .prt file)

3. Manual Metadata (user-editable)
   - Description, Client, Tags
   - Status (Active/Completed/Archived)
   - Color (hex picker + preset buttons)
   - Notes (textarea)
```

**Critical Bug Fixes (Nov 6, 2025):**
1. **Status Select not controlled:** Changed from `defaultValue` to `value={field.value}` to make it fully controlled by react-hook-form
2. **Payload structure mismatch:** Backend expects flat structure, was sending nested `{manual: {...}}` - fixed to send flat `{displayName, client, ...}`

### FiltersBar Component

**File:** `frontend/src/components/projects/FiltersBar.tsx`

**Filter Types:**
```typescript
interface ProjectFiltersState {
  type: Array<'NA' | 'Turbo' | 'Supercharged'>;  // Multi-select
  intake: IntakeSystem[];                         // Multi-select
  exhaust: ExhaustSystem[];                       // Multi-select
  cylinders: number[];                            // Multi-select
  search: string;                                 // Text input
  sortBy: 'date' | 'name' | 'cylinders';         // Single select
}
```

**Filter Logic (AND):**
```typescript
// All filters must match (AND logic)
if (filters.type.length > 0) {
  filtered = filtered.filter(p =>
    filters.type.includes(p.metadata?.auto?.type)
  );
}

if (filters.search) {
  filtered = filtered.filter(p =>
    p.displayName.toLowerCase().includes(filters.search) ||
    p.metadata?.manual?.client?.toLowerCase().includes(filters.search)
  );
}
```

**UI Consistency:**
- All filters: `w-[160px]` width (unified after user feedback)
- All filters: `h-10` height (40px, unified after user feedback)
- Search input: flexible width with `flex-1 min-w-[200px]`

### Data Flow: Edit Metadata

```
1. User clicks Edit button on ProjectCard
   â†“
   HomePage.handleEditProject(project)

2. Open MetadataDialog with project data
   â†“
   <MetadataDialog open={true} project={project} />

3. Form loads with existing metadata
   â†“
   useEffect: form.reset({
     displayName: metadata?.displayName,
     client: metadata?.manual?.client,
     status: metadata?.manual?.status,
     ...
   })

4. User edits fields (Status, Client, etc.)
   â†“
   react-hook-form tracks changes

5. User clicks Save
   â†“
   onSubmit(values)

6. Prepare flat payload
   â†“
   payload = {
     displayName: values.displayName,
     client: values.client,
     status: values.status,
     ...
   }

7. POST to Backend API
   â†“
   axios.post(`/api/projects/${id}/metadata`, payload)

8. Backend updates .metadata/{id}.json
   â†“
   metadataService.updateManualMetadata(id, payload)
   // Preserves auto section, updates manual section

9. Success â†’ Close dialog â†’ Refetch projects
   â†“
   toast.success('Metadata saved')
   onSuccess() â†’ HomePage.refetch()

10. ProjectCard updates with new data
    â†“
    New client name, status badge, etc. visible
```

### Loading States

**Skeleton Cards:** Used during initial data fetch for "iPhone quality" UX
```typescript
if (loading) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {[...Array(6)].map((_, i) => (
        <SkeletonCard key={i} />
      ))}
    </div>
  );
}
```

**SkeletonCard:** `frontend/src/components/shared/SkeletonCard.tsx`
- Animated pulse effect
- Matches ProjectCard layout
- Shows during: initial load, refetch after metadata save

### Responsive Design

**Grid Layout:**
- Desktop (â‰¥1024px): 3 columns
- Tablet (768-1024px): 2 columns
- Mobile (<768px): 1 column

**Filter Layout:**
- Desktop: All filters in single row with flex-wrap
- Mobile: Filters wrap to multiple rows
- Search input: Always takes available width with `flex-1`

**Touch Targets:**
- All buttons: minimum 44Ã—44px (iOS HIG)
- Filter dropdowns: h-10 (40px) for easy tapping
- Card hover: Full card clickable area

### See Also
- [PROJECT-METADATA-DASHBOARD-ROADMAP.md](../PROJECT-METADATA-DASHBOARD-ROADMAP.md) - Phase 2.1-2.7 implementation details
- [CHANGELOG.md](../CHANGELOG.md) - Bug fixes (2025-11-06)
- Backend API: [routes/metadata.js](../../backend/src/routes/metadata.js)
- Backend Service: [services/metadataService.js](../../backend/src/services/metadataService.js)

---

## ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ğ­Ñ‚Ğ°Ğ¿ 7) âœ…

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ ProjectPage

**Layout:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ProjectPage                                                â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Project Info Card                                    â”‚ â”‚
â”‚  â”‚  - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ñ‚Ğ¸Ğ¿ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ, Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ñ‹         â”‚ â”‚
â”‚  â”‚  - Badge Ñ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾Ğ¼ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CalculationSel  â”‚  â”‚  Visualization Area              â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚ â–¡ Calc 1 ğŸ”´     â”‚  â”‚  ChartPreset1                    â”‚ â”‚
â”‚  â”‚ â˜‘ Calc 2 ğŸŸ¢     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚ â˜‘ Calc 3 ğŸ”µ     â”‚  â”‚  â”‚  Power & Torque Chart      â”‚ â”‚ â”‚
â”‚  â”‚ â–¡ Calc 4 ğŸŸ¡     â”‚  â”‚  â”‚  (Dual Y-axes)             â”‚ â”‚ â”‚
â”‚  â”‚ â–¡ Calc 5 ğŸŸ£     â”‚  â”‚  â”‚                            â”‚ â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚  Left Y: Power (kW)        â”‚ â”‚ â”‚
â”‚  â”‚ Selected: 2/5   â”‚  â”‚  â”‚  Right Y: Torque (NÂ·m)     â”‚ â”‚ â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚  X: RPM                    â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚                            â”‚ â”‚ â”‚
â”‚                        â”‚  â”‚  [DataZoom Slider]         â”‚ â”‚ â”‚
â”‚                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Custom Hooks Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

**useProjectData.ts** - Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```typescript
// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ¿Ğ¾ ID Ğ¸Ğ· API
- State management: project, loading, error
- Race condition handling (ignore flag Ğ² useEffect)
- Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ refetch Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¾Ñ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¿Ñ€Ğ¸ Ñ€Ğ°Ğ·Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
const { project, loading, error, refetch } = useProjectData(id);
```

**useSelectedCalculations.ts** - Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ğ¼ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²
```typescript
// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¼Ğ°ÑÑĞ¸Ğ²Ğ¾Ğ¼ selectedIds (Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 5 ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğ¾Ğ²)
- toggleCalculation(id) - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ/ÑƒĞ±Ñ€Ğ°Ñ‚ÑŒ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ¸Ğ· Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ…
- Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° (MAX_CALCULATIONS = 5)
- Ğ¥ĞµĞ»Ğ¿ĞµÑ€Ñ‹: isSelected, isMaxReached, canSelect, count, maxCount
- clearSelection() Ğ´Ğ»Ñ ÑĞ±Ñ€Ğ¾ÑĞ° Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
const {
  selectedIds,
  toggleCalculation,
  isMaxReached,
  count,
  maxCount
} = useSelectedCalculations();
```

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

**CalculationSelector.tsx** - UI Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²
```typescript
// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² Ñ checkboxes (Radix UI)
- Ğ¦Ğ²ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ° (ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ¼)
- Badge Ñ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼ Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² (2/5)
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ checkboxes Ğ¿Ñ€Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°
- Tooltip Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½Ğ¸Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°

// Props:
- calculations: Calculation[]       // Ğ’ÑĞµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- selectedIds: string[]              // Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ ID Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²
- onToggle: (id: string) => void     // Callback Ğ¿Ñ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ
- isMaxReached: boolean              // Ğ”Ğ¾ÑÑ‚Ğ¸Ğ³Ğ½ÑƒÑ‚ Ğ»Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚
- maxCount: number                   // ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ğ² (5)

// Ğ¦Ğ²ĞµÑ‚Ğ° Ğ¸Ğ· config.yaml:
const CALCULATION_COLORS = [
  '#ff6b6b',  // ĞšÑ€Ğ°ÑĞ½Ñ‹Ğ¹
  '#4ecdc4',  // Ğ‘Ğ¸Ñ€ÑĞ·Ğ¾Ğ²Ñ‹Ğ¹
  '#45b7d1',  // Ğ¡Ğ¸Ğ½Ğ¸Ğ¹
  '#f9ca24',  // Ğ–Ñ‘Ğ»Ñ‚Ñ‹Ğ¹
  '#a29bfe',  // Ğ¤Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹
];
```

**ChartPreset1.tsx** - Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº "ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚"
```typescript
// Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- Dual Y-axes chart (ECharts)
- Ğ›ĞµĞ²Ğ°Ñ Ğ¾ÑÑŒ: P-Av (ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² ĞºĞ’Ñ‚)
- ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ğ¾ÑÑŒ: Torque (ĞœĞ¾Ğ¼ĞµĞ½Ñ‚ Ğ² ĞÂ·Ğ¼)
- ĞÑÑŒ X: RPM (ĞĞ±Ğ¾Ñ€Ğ¾Ñ‚Ñ‹ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ)
- DataZoom slider Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ·ÑƒĞ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- Tooltip Ñ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğ¼ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ (Ñ†Ğ²ĞµÑ‚ + ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ñ‹)
- Legend Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑĞµÑ€Ğ¸Ğ¹
- Ğ¦Ğ²ĞµÑ‚Ğ¾Ğ²Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°: ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Ñ CalculationSelector

// Props:
- calculations: Calculation[]       // Ğ’ÑĞµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- selectedIds: string[]             // Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ ID Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ

// ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:
- useMemo Ğ´Ğ»Ñ chartOption (Ğ¿ĞµÑ€ĞµÑÑ‡Ñ‘Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ selectedIds)
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ selectedIds
- Ğ¦Ğ¸ĞºĞ»Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ¸Ğµ Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² (index % colors.length)

// Ğ›Ğ¸Ğ½Ğ¸Ğ¸:
- ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ: ÑĞ¿Ğ»Ğ¾ÑˆĞ½Ğ°Ñ Ğ»Ğ¸Ğ½Ğ¸Ñ (solid), Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½Ğ° Ğº yAxisIndex: 0
- ĞœĞ¾Ğ¼ĞµĞ½Ñ‚: Ğ¿ÑƒĞ½ĞºÑ‚Ğ¸Ñ€Ğ½Ğ°Ñ Ğ»Ğ¸Ğ½Ğ¸Ñ (dashed), Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ğ°Ğ½Ğ° Ğº yAxisIndex: 1
```

**chartConfig.ts** - Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ECharts
```typescript
// Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹:
- getBaseChartConfig(): Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
  - grid (Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ñ‹ Ğ´Ğ»Ñ dual Y-axes)
  - tooltip (trigger: 'axis', custom formatter)
  - legend (position: top center)
  - dataZoom (slider + inside zoom)
  - animation: true

- createXAxis(name): ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑĞ¸ X
  - type: 'value'
  - name: Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ "RPM")
  - nameLocation: 'middle'
  - axisLabel.formatter Ğ´Ğ»Ñ Ñ‚Ñ‹ÑÑÑ‡ (1000 â†’ 1k)

- createYAxis(name, position, color): ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑĞ¸ Y
  - type: 'value'
  - position: 'left' | 'right'
  - name: Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ "ĞœĞ¾Ñ‰Ğ½Ğ¾ÑÑ‚ÑŒ (ĞºĞ’Ñ‚)")
  - nameTextStyle.color: Ñ†Ğ²ĞµÑ‚ Ğ¾ÑĞ¸
  - splitLine: Ğ¿ÑƒĞ½ĞºÑ‚Ğ¸Ñ€Ğ½Ğ°Ñ Ğ»Ğ¸Ğ½Ğ¸Ñ ÑĞµÑ‚ĞºĞ¸

- getCalculationColor(index): Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ†Ğ²ĞµÑ‚ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ°
  - Ğ¦Ğ¸ĞºĞ»Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ¸Ğµ Ğ¸Ğ· CALCULATION_COLORS
  - index % 5 Ğ´Ğ»Ñ Ğ±ĞµÑĞºĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²

// ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹:
const CALCULATION_COLORS: string[] = [...]  // 5 Ñ†Ğ²ĞµÑ‚Ğ¾Ğ² Ğ¸Ğ· config.yaml
```

### Data Flow Ğ´Ğ»Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

```
User Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ /project/:id
         â†“
ProjectPage.tsx Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ÑÑ
         â†“
useProjectData(id) Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
         â†“
api.getProject(id) â†’ Backend
         â†“
Backend Ğ¿Ğ°Ñ€ÑĞ¸Ñ‚ .det Ñ„Ğ°Ğ¹Ğ»
         â†“
Response: EngineProject JSON
         â†“
project state Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ
         â†“
ProjectPage Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‘Ñ‚ project.calculations Ğ²:
  - CalculationSelector (Ğ´Ğ»Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ°)
  - ChartPreset1 (Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ)
         â†“
User Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ñ‡ĞµÑ€ĞµĞ· checkboxes
         â†“
toggleCalculation(id) Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ
         â†“
selectedIds state Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ (useSelectedCalculations)
         â†“
ChartPreset1 Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ selectedIds
         â†“
useMemo Ğ¿ĞµÑ€ĞµÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ chartOption
         â†“
ECharts re-renders Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ ÑĞµÑ€Ğ¸ÑĞ¼Ğ¸
```

### ECharts Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

**echarts-for-react:**
```typescript
import ReactECharts from 'echarts-for-react';

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
<ReactECharts
  option={chartOption}           // EChartsOption
  style={{ height: '600px' }}    // Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°
  opts={{ renderer: 'canvas' }}  // Ğ˜Ğ»Ğ¸ 'svg'
/>

// chartOption:
- ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ: EChartsOption Ğ¸Ğ· echarts
- Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚: title, xAxis, yAxis[], series[], tooltip, legend, dataZoom
```

**Performance Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:**
```typescript
// 1. useMemo Ğ´Ğ»Ñ chartOption
const chartOption = useMemo((): EChartsOption => {
  // ĞŸĞµÑ€ĞµÑÑ‡Ñ‘Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ selectedCalculations
}, [selectedCalculations]);

// 2. useMemo Ğ´Ğ»Ñ selectedCalculations
const selectedCalculations = useMemo(() => {
  return calculations.filter(calc => selectedIds.includes(calc.id));
}, [calculations, selectedIds]);

// 3. useCallback Ğ´Ğ»Ñ toggleCalculation
const toggleCalculation = useCallback((id: string) => {
  // Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ ÑÑÑ‹Ğ»ĞºĞ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
}, []);
```

### ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹ Ğ² ProjectPage

```typescript
// Loading state
if (loading) {
  return <LoadingSpinner />;
}

// Error state
if (error) {
  return <ErrorMessage message={error} onRetry={refetch} />;
}

// Empty state (Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½)
if (!project) {
  return <div>ĞŸÑ€Ğ¾ĞµĞºÑ‚ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½</div>;
}

// Success state - Ñ€ĞµĞ½Ğ´ĞµÑ€ UI
return (
  <ProjectPage with data />
);
```

### Technical Details

**Race condition handling Ğ² useProjectData:**
```typescript
useEffect(() => {
  let ignore = false;  // Ğ¤Ğ»Ğ°Ğ³ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞ¸Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²

  const fetchProject = async () => {
    const data = await projectsApi.getProject(projectId);
    if (!ignore) {  // ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ state Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ½Ğµ Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ¾
      setProject(data);
    }
  };

  fetchProject();

  return () => {
    ignore = true;  // Cleanup: Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ñ€Ğ°Ğ·Ğ¼Ğ¾Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸
  };
}, [projectId]);
```

**Checkbox component (Radix UI):**
```typescript
// Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾:
@radix-ui/react-checkbox

// ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚: frontend/src/components/ui/checkbox.tsx
- ForwardRef Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ ref
- TailwindCSS ÑÑ‚Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (border-primary, data-[state=checked]:bg-primary)
- Check icon Ğ¸Ğ· lucide-react
```

**API response format fix:**
```typescript
// Backend Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚:
{
  success: true,
  data: { ...EngineProject },
  meta: { ... }
}

// Frontend Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ¸Ğ·Ğ²Ğ»ĞµÑ‡ÑŒ:
if (response.data && response.data.success && response.data.data) {
  return response.data.data;
}
```

---

## Accessibility Implementation Patterns

**Status:** âœ… Implemented (v2.0.0, WCAG 2.1 AA compliant)

### Keyboard Navigation

**Focus Management:**
```typescript
// All interactive elements are keyboard accessible
<button className="focus-visible:ring-[3px] focus-visible:ring-ring">
  {/* Prominent 3px focus indicator for buttons */}
</button>

<Card className="focus-visible:ring-2 focus-visible:ring-ring">
  {/* Subtle 2px focus indicator for cards */}
</Card>
```

**Focus Trap in Modals:**
- **Radix UI Dialog** provides built-in focus trap
- Focus moves to modal when opened
- ESC key closes modal
- Focus returns to trigger element on close

```typescript
import { Dialog, DialogContent } from '@/components/ui/dialog';

// Automatic focus management:
// - DialogContent traps focus inside modal
// - Tab cycles through focusable elements
// - Shift+Tab cycles backwards
// - ESC closes and returns focus
```

**Tab Order:**
1. Header navigation (logo, back button, settings)
2. Left panel (calculation selector, filters)
3. Main content (charts, tables)
4. Footer (if present)

### ARIA Labels and Semantic HTML

**Button Accessibility:**
```typescript
// Icon-only buttons must have aria-label
<button aria-label="Edit project metadata">
  <EditIcon />
</button>

// Text buttons don't need aria-label (text is readable)
<button>Save Changes</button>
```

**Form Accessibility:**
```typescript
// React Hook Form + Radix UI
<FormLabel htmlFor="projectName">Project Name</FormLabel>
<FormControl>
  <Input id="projectName" {...field} />
</FormControl>
<FormMessage /> {/* Error message linked automatically */}
```

**Dialog Accessibility:**
```typescript
<DialogTitle>Select Calculation</DialogTitle>
<DialogDescription>
  Choose up to 5 calculations to compare.
</DialogDescription>

// Automatic ARIA attributes:
// - aria-labelledby points to DialogTitle
// - aria-describedby points to DialogDescription
// - role="dialog"
// - aria-modal="true"
```

**Semantic HTML:**
- `<nav>` for navigation areas
- `<main>` for main content
- `<article>` for project cards
- `<section>` for chart sections
- `<button>` for interactive actions (never `<div>` with onClick)

### Screen Reader Support

**Descriptive Text:**
```typescript
// Status indicators for screen readers
<span className="sr-only">Loading project data</span>
<LoadingSpinner aria-hidden="true" />

// Hidden counts for screen readers
<Badge>
  <span className="sr-only">Selected calculations: </span>
  2/5
</Badge>
```

**Live Regions:**
```typescript
// Announce dynamic content changes
<div role="status" aria-live="polite">
  {successMessage && <p>{successMessage}</p>}
</div>

// Error announcements
<div role="alert" aria-live="assertive">
  {errorMessage && <p>{errorMessage}</p>}
</div>
```

### Color Contrast (WCAG 2.1 AA)

**Text Contrast:**
- Background: `#ffffff` (white)
- Primary text: `#09090b` (near black) - Contrast ratio: 20.2:1 âœ…
- Secondary text: `#71717a` (gray) - Contrast ratio: 4.6:1 âœ…
- Muted text: `#a1a1aa` (light gray) - Contrast ratio: 3.1:1 (large text only)

**Interactive Elements:**
- Primary buttons: High contrast (14:1+)
- Focus indicators: 3:1+ contrast
- Chart colors: All meet 3:1 contrast on white background

**Checked by:**
- TailwindCSS default palette (WCAG compliant)
- shadcn/ui theme (accessibility-first design)
- Manual verification with WebAIM Contrast Checker

### Touch Target Sizes

**Minimum touch targets: 44Ã—44 px** (WCAG 2.1 AAA guideline)

```typescript
// All buttons meet minimum size
<Button className="h-10 px-4">  {/* 40px height, close to 44px */}
  Action
</Button>

// Cards have large clickable area
<ProjectCard className="min-h-[200px]">
  {/* Entire card is clickable */}
</ProjectCard>

// Checkboxes have extended hit area
<Checkbox className="h-4 w-4 data-[state=checked]:bg-primary">
  {/* Parent label extends hit area */}
</Checkbox>
```

### Accessibility Testing Checklist

**Keyboard:**
- âœ… All features accessible via keyboard
- âœ… Visible focus indicators
- âœ… Logical tab order
- âœ… No keyboard traps (except modals)

**Screen Reader:**
- âœ… All images have alt text (or aria-label)
- âœ… Form inputs have labels
- âœ… Buttons have descriptive text or aria-label
- âœ… Status changes announced

**Visual:**
- âœ… Color contrast meets WCAG AA
- âœ… Information not conveyed by color alone (line styles in charts)
- âœ… Text resizable up to 200% without loss of content

**Motor:**
- âœ… Touch targets â‰¥44Ã—44px
- âœ… No precise timing required
- âœ… Gestures have keyboard alternatives

---

## Responsive Design Implementation

**Status:** âœ… Implemented (v2.0.0, mobile-first approach)

### Breakpoints

**TailwindCSS breakpoints:**
```typescript
sm:  640px   // Small tablets portrait
md:  768px   // Tablets and small laptops
lg:  1024px  // Laptops
xl:  1280px  // Desktops
2xl: 1536px  // Large desktops
```

**Project uses:**
- `< 768px`: Mobile
- `768px - 1024px`: Tablet
- `> 1024px`: Desktop

### Component-Level Responsive Patterns

**Header (mobile optimization):**
```typescript
// Desktop: Full text buttons + calculation count
<Button>
  <ExportIcon /> Export to PNG
</Button>
<span>2 calculations selected</span>

// Mobile (<768px): Icon-only buttons, hidden count
<Button className="md:inline-flex md:gap-2">
  <ExportIcon />
  <span className="hidden md:inline">Export to PNG</span>
</Button>
<span className="hidden md:inline">2 calculations selected</span>
```

**Modals (mobile full-screen):**
```typescript
// Desktop: Centered modal with padding
<DialogContent className="max-w-lg">
  {/* Content */}
</DialogContent>

// Mobile: Nearly full-screen (inset-4 for small margin)
<DialogContent className="inset-4 max-w-lg md:inset-auto">
  {/* Content fills screen on mobile */}
</DialogContent>
```

**LeftPanel (hamburger menu):**
```typescript
// Mobile: Hidden by default, toggle button
<Sheet>
  <SheetTrigger>
    <MenuIcon />  {/* Hamburger */}
  </SheetTrigger>
  <SheetContent side="left">
    {/* Calculation selector, filters */}
  </SheetContent>
</Sheet>

// Desktop (>1024px): Always visible sidebar
<aside className="hidden lg:block">
  {/* Calculation selector, filters */}
</aside>
```

**PeakValuesCards (adaptive layout):**
```typescript
// Mobile: Stacked vertically
<div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
  <Card>Power: 115 kW</Card>
  <Card>Torque: 225 NÂ·m</Card>
  <Card>Peak Power RPM: 5500</Card>
  <Card>Peak Torque RPM: 3800</Card>
</div>

// Tablet: 2 columns
// Desktop: 4 columns inline
```

**Charts (responsive sizing):**
```typescript
// Height scales with viewport
<ReactECharts
  option={chartOption}
  style={{
    height: 'calc(100vh - 300px)',  // Adaptive height
    minHeight: '400px',             // Minimum on mobile
    width: '100%'                   // Full width always
  }}
/>

// ECharts grid margins adjust automatically
grid: {
  left: '10%',    // More space for Y-axis labels
  right: '10%',   // Space for right Y-axis
  top: '15%',     // Space for title
  bottom: '15%'   // Space for dataZoom
}
```

**DataTable (horizontal scroll on mobile):**
```typescript
// Mobile: Scrollable table
<div className="overflow-x-auto">
  <Table>
    {/* 73 parameters = wide table */}
  </Table>
</div>

// Desktop: Full width, no scroll needed
```

### Typography Scaling

**Headings:**
```typescript
// Mobile â†’ Desktop scaling
<h1 className="text-2xl md:text-3xl lg:text-4xl font-bold">
  Engine Results Viewer
</h1>

<h2 className="text-xl md:text-2xl font-semibold">
  Project Name
</h2>
```

**Body text:**
- Base: `text-sm` (14px)
- Desktop: `md:text-base` (16px)
- Large screens: No change (16px is readable)

### Spacing and Layout

**Container padding:**
```typescript
// Mobile: Smaller padding (save screen space)
<main className="p-4 md:p-6 lg:p-8">
  {/* Content */}
</main>
```

**Grid gaps:**
```typescript
// Tighter on mobile, comfortable on desktop
<div className="grid gap-4 md:gap-6 lg:gap-8">
  {/* Cards */}
</div>
```

### Images and Media

**Responsive images:**
```typescript
// Placeholder for future: Project thumbnails
<img
  src={thumbnail}
  alt="Project thumbnail"
  className="w-full h-auto object-cover"
  loading="lazy"
/>
```

### Performance Considerations

**Mobile:**
- Reduced animation duration (users expect faster)
- Lazy loading for off-screen content
- Smaller initial bundle (code splitting)

**Desktop:**
- Full animations enabled
- Preload hover states
- Larger cache for better performance

### Testing Matrix

**Devices tested:**
- âœ… iPhone 13 Pro (390Ã—844, iOS Safari)
- âœ… iPad Air (820Ã—1180, Safari)
- âœ… MacBook Pro 14" (1512Ã—982, Chrome)
- âœ… Desktop 27" (2560Ã—1440, Chrome)

**Browsers:**
- âœ… Chrome 120+ (primary)
- âœ… Safari 17+ (macOS, iOS)
- âœ… Firefox 121+ (secondary)
- âŒ Edge (not tested, but likely works - Chromium-based)

---

## Data Processing Algorithms

**Status:** âœ… Implemented (v2.0.0)

### RPM Step Calculator

**Purpose:** Display average RPM step instead of raw point count (more meaningful for users)

**Algorithm:**
```typescript
function calculateAverageStep(dataPoints: DataPoint[]): number {
  if (dataPoints.length < 2) return 0;

  // 1. Extract RPM values
  const rpms = dataPoints.map(point => point.RPM);

  // 2. Sort ascending (in case data is unsorted)
  rpms.sort((a, b) => a - b);

  // 3. Calculate steps between consecutive points
  const steps: number[] = [];
  for (let i = 1; i < rpms.length; i++) {
    steps.push(rpms[i] - rpms[i-1]);
  }

  // 4. Average the steps
  const avgStep = steps.reduce((sum, step) => sum + step, 0) / steps.length;

  // 5. Round to nearest 50 (50, 100, 150, 200, 250...)
  const roundedStep = Math.round(avgStep / 50) * 50;

  return roundedStep;
}
```

**Example:**
```
Input RPMs: [800, 900, 1000, 1100, 1250, 1400]
Steps: [100, 100, 100, 150, 150]
Average: 120
Rounded: 100 RPM step

Display: "RPM step: 100" (instead of "25 points")
```

**Why round to nearest 50?**
- Engine testing typically done in 50-200 RPM steps
- Rounding provides cleaner display
- Reflects real-world testing practices

---

### Peak Values Finder

**Purpose:** Find peak power, torque, and RPM at which peaks occur

**Algorithm:**
```typescript
function findPeakValues(dataPoints: DataPoint[]) {
  let maxPower = -Infinity;
  let maxTorque = -Infinity;
  let powerAtRPM = 0;
  let torqueAtRPM = 0;

  for (const point of dataPoints) {
    // Find max power
    if (point['P-Av'] > maxPower) {
      maxPower = point['P-Av'];
      powerAtRPM = point.RPM;
    }

    // Find max torque
    if (point.Torque > maxTorque) {
      maxTorque = point.Torque;
      torqueAtRPM = point.RPM;
    }
  }

  return {
    peakPower: { value: maxPower, rpm: powerAtRPM },
    peakTorque: { value: maxTorque, rpm: torqueAtRPM }
  };
}
```

**Display:**
```typescript
<Card>
  <CardTitle>Peak Power</CardTitle>
  <CardContent>
    <p className="text-3xl font-bold">{peakPower.value} kW</p>
    <p className="text-sm text-muted-foreground">
      at {peakPower.rpm} RPM
    </p>
  </CardContent>
</Card>
```

---

### Per-Cylinder Averaging

**Purpose:** Convert per-cylinder arrays to single averaged value for chart display

**Algorithm:**
```typescript
function averagePerCylinder(values: number[]): number {
  return values.reduce((sum, v) => sum + v, 0) / values.length;
}

// Example: PCylMax for 4-cylinder engine
const pcylMax = [120.5, 122.3, 119.8, 121.2]; // bar per cylinder
const avgPcylMax = averagePerCylinder(pcylMax); // 120.95 bar
```

**Which parameters use averaging?**
- `PCylMax` - Max cylinder pressure (per-cylinder â†’ averaged)
- `TCylMax` - Max cylinder temperature (per-cylinder â†’ averaged)
- `TUbMax` - Max exhaust temperature (per-cylinder â†’ averaged)
- `Deto` - Detonation degree (per-cylinder â†’ averaged)
- `MaxDeg` - Maximum detonation degree (per-cylinder â†’ averaged)

**Rationale:**
- Simplifies chart visualization (1 line instead of 4-6)
- Most users care about overall engine behavior
- Individual cylinder analysis = advanced feature (future enhancement)

---

### Color Assignment Algorithm

**Purpose:** Assign colors to calculations and parameters

**Algorithm 1: Calculation Colors (Comparison Mode)**
```typescript
// 5 colors cycling
const CALCULATION_COLORS = [
  '#e74c3c', // Red
  '#2ecc71', // Green
  '#3498db', // Blue
  '#f39c12', // Orange
  '#9b59b6'  // Purple
];

function getCalculationColor(index: number): string {
  return CALCULATION_COLORS[index % CALCULATION_COLORS.length];
}

// Assign to calculations
calculations.forEach((calc, index) => {
  calc.color = getCalculationColor(index);
});
```

**Algorithm 2: Parameter Colors (Single Calculation Mode)**
```typescript
// From config/parameters.ts
const PARAMETER_COLORS: Record<string, string> = {
  'P-Av': '#e74c3c',      // Red (power)
  'Torque': '#2ecc71',    // Green (torque)
  'PCylMax': '#3498db',   // Blue (pressure)
  'TCylMax': '#f39c12',   // Orange (temperature)
  // ... 73 parameters total
};

function getParameterColor(paramName: string): string {
  return PARAMETER_COLORS[paramName] || '#71717a'; // Gray fallback
}
```

**When to use which?**
- **Single calculation:** Use PARAMETER_COLORS (distinguish P-Av vs Torque)
- **Comparison mode:** Use CALCULATION_COLORS (distinguish Vesta vs Camry)

See: [ADR 003: Color Palette Engineering Style](decisions/003-color-palette-engineering-style.md)

---

### Units Conversion Algorithms

**Purpose:** Convert between SI, American, and HP unit systems

**Power Conversion:**
```typescript
function convertPower(kW: number, targetUnits: Units): number {
  switch (targetUnits) {
    case 'SI':
      return kW; // Already in kW
    case 'American':
      return kW * 1.341; // kW â†’ bhp (brake horsepower)
    case 'HP':
      return kW * 1.36;  // kW â†’ PS (metric horsepower)
  }
}
```

**Torque Conversion:**
```typescript
function convertTorque(Nm: number, targetUnits: Units): number {
  switch (targetUnits) {
    case 'SI':
      return Nm; // Already in NÂ·m
    case 'American':
      return Nm * 0.7376; // NÂ·m â†’ lb-ft
    case 'HP':
      return Nm; // PS system uses NÂ·m for torque
  }
}
```

**Pressure Conversion:**
```typescript
function convertPressure(bar: number, targetUnits: Units): number {
  switch (targetUnits) {
    case 'SI':
    case 'HP':
      return bar; // bar used in both
    case 'American':
      return bar * 14.504; // bar â†’ psi
  }
}
```

**Temperature Conversion:**
```typescript
function convertTemperature(celsius: number, targetUnits: Units): number {
  switch (targetUnits) {
    case 'SI':
    case 'HP':
      return celsius; // Â°C used in both
    case 'American':
      return (celsius * 9/5) + 32; // Â°C â†’ Â°F
  }
}
```

**Conversion Sources:**
- **1 kW = 1.341 bhp:** SAE J1349 standard (brake horsepower)
- **1 kW = 1.36 PS:** DIN 70020 standard (metric horsepower)
- **1 NÂ·m = 0.7376 lb-ft:** Physics constant
- **1 bar = 14.504 psi:** Physics constant

---

## Parameter Configuration System

**Status:** âœ… Implemented (v2.0.0, 73 parameters supported)

### Single Source of Truth: parameters.ts

**File:** `frontend/src/config/parameters.ts`

**Purpose:**
- Central registry for all 73 engine parameters
- Parameter metadata (display name, unit, color, category)
- Used by parsers, charts, tables, export

**Structure:**
```typescript
export interface ParameterConfig {
  name: string;           // Display name (e.g., "P-Av")
  fullName: string;       // Full name (e.g., "Average Power")
  unit: string;           // SI unit (e.g., "kW")
  unitAmerican?: string;  // American unit (e.g., "bhp")
  unitHP?: string;        // HP system unit (e.g., "PS")
  color: string;          // Chart color (e.g., "#e74c3c")
  category: ParameterCategory;
  description: string;    // Engineering description
  isPerCylinder: boolean; // Array or scalar value
}

export const PARAMETERS: Record<string, ParameterConfig> = {
  'RPM': { ... },
  'P-Av': { ... },
  'Torque': { ... },
  // ... 73 parameters total
};
```

### Parameter Categories

```typescript
type ParameterCategory =
  | 'performance'   // Power, Torque
  | 'pressure'      // PCylMax, BMEP, IMEP, FMEP, PMEP
  | 'temperature'   // TCylMax, TUbMax
  | 'efficiency'    // PurCyl, LamAv
  | 'combustion'    // MaxDeg, Deto, Convergence
  | 'flow'          // Mass flow rates
  | 'other';        // Miscellaneous
```

**Usage in UI:**
```typescript
// Custom parameter selector (ChartPreset6)
<Tabs>
  <TabsList>
    <TabsTrigger value="performance">Performance</TabsTrigger>
    <TabsTrigger value="pressure">Pressure</TabsTrigger>
    <TabsTrigger value="temperature">Temperature</TabsTrigger>
    {/* ... */}
  </TabsList>

  <TabsContent value="performance">
    {/* Show only performance parameters */}
  </TabsContent>
</Tabs>
```

### Parameter Mapping Strategy

**Problem:** Different file formats use different names for same parameter

**Example:**
- `.det` file: `Purc` (short name)
- `.pou` file: `PurCyl` (full name)
- Both represent: Cylinder Charge Purity

**Solution: Canonical names in PARAMETERS**
```typescript
export const PARAMETERS = {
  'PurCyl': {
    name: 'PurCyl',
    aliases: ['Purc'],  // Alternative names
    // ...
  }
};

// Parser uses mapping:
function mapParameterName(rawName: string): string {
  // Search for parameter with this alias
  for (const [canonical, config] of Object.entries(PARAMETERS)) {
    if (config.aliases?.includes(rawName)) {
      return canonical;
    }
  }
  return rawName; // No mapping found, use as-is
}
```

### Integration with Parsers

**DET Parser:**
```typescript
// Parse column headers
const headers = line2.split(/\s+/).slice(1); // Skip service column

// Map to canonical names
const parameters = headers.map(mapParameterName);

// Validate against PARAMETERS config
parameters.forEach(param => {
  if (!PARAMETERS[param]) {
    console.warn(`Unknown parameter: ${param}`);
  }
});
```

**POU Parser:** Same pattern

### Integration with Charts

**Example: ChartPreset1.tsx**
```typescript
import { PARAMETERS } from '@/config/parameters';

// Get parameter config
const powerConfig = PARAMETERS['P-Av'];
const torqueConfig = PARAMETERS['Torque'];

// Use in chart
yAxis: [
  {
    name: `${powerConfig.name} (${powerConfig.unit})`,
    nameTextStyle: { color: powerConfig.color }
  },
  {
    name: `${torqueConfig.name} (${torqueConfig.unit})`,
    nameTextStyle: { color: torqueConfig.color }
  }
]
```

### Integration with Units Conversion

```typescript
// Get unit based on user settings
function getUnit(param: string, units: Units): string {
  const config = PARAMETERS[param];

  switch (units) {
    case 'SI':
      return config.unit;
    case 'American':
      return config.unitAmerican || config.unit;
    case 'HP':
      return config.unitHP || config.unit;
  }
}

// Update axis label dynamically
yAxis: {
  name: `${config.name} (${getUnit('P-Av', currentUnits)})`
}
// Result: "P-Av (kW)" â†’ "P-Av (bhp)" â†’ "P-Av (PS)"
```

### 73 Parameters Breakdown

**From .det (24 parameters):**
- RPM, P-Av, Torque, BMEP, IMEP, FMEP, PMEP
- PCylMax, TCylMax, TUbMax (per-cylinder arrays)
- PurCyl, LamAv, MaxDeg, Deto (per-cylinder arrays)
- ... (see [PARAMETERS-REFERENCE.md](PARAMETERS-REFERENCE.md))

**From .pou (71 parameters):**
- All .det parameters +
- Detailed combustion parameters
- Mass flow rates
- Heat transfer coefficients
- Emissions estimates
- ... (see [PARAMETERS-REFERENCE.md](PARAMETERS-REFERENCE.md))

**Merged format (.pou-merged):**
- 75 parameters total (71 from .pou + 4 critical from .det)
- Critical .det params: P-Av, Torque, BMEP, RPM
- Why? .pou may have slightly different values due to calculation method

---

## Chart Implementation Patterns

**Status:** âœ… Implemented (v2.0.0, 6 presets)

See detailed documentation: **[docs/chart-presets.md](chart-presets.md)**

### Quick Reference

**Dual Y-Axis Pattern:**
- Used when parameters have different units or scales
- Examples: Power (kW) vs Torque (NÂ·m), Pressure (bar) vs Temperature (Â°C)
- Left axis: Primary parameter, Right axis: Secondary parameter

**Line Style Conventions:**
- Solid: Primary/most important parameter
- Dashed: Secondary parameter
- Dotted: Tertiary parameter
- Purpose: Distinguishability beyond color (accessibility, print)

**Color Systems:**
- **Single calculation:** PARAMETER_COLORS (distinguish P-Av vs Torque)
- **Comparison mode:** CALCULATION_COLORS (distinguish Calc1 vs Calc2)
- See: [ADR 003: Color Palette Engineering Style](decisions/003-color-palette-engineering-style.md)

**Axis Label Format:**
- Pattern: `{ParameterName} ({Unit})`
- Examples: `P-Av (kW)`, `Torque (NÂ·m)`, `PCylMax (bar)`
- **CRITICAL:** Always use original English parameter names (never translate)

**Legend Format:**
- Pattern: `{CalculationName} - {ParameterName}`
- Example: `Vesta 1.6 IM - P-Av`
- No units in legend (only on axes)

**Per-Cylinder Handling:**
- Parameters like PCylMax, TCylMax are arrays
- Chart displays averaged value: `average(cylinder1, cylinder2, ...)`
- Simplifies visualization (1 line instead of 4-6)

**6 Chart Presets:**
1. **Power & Torque** - Most important (P-Av, Torque, dual Y-axis)
2. **Pressure & Temperature** - Durability analysis (PCylMax, TCylMax, TUbMax)
3. **MEP** - Efficiency analysis (FMEP, IMEP, BMEP, PMEP)
4. **Critical Values** - Safety analysis (PCylMax, MaxDeg) âš ï¸
5. **Volumetric Efficiency** - Breathing analysis (PurCyl, LamAv)
6. **Custom** - User-defined parameters (modal selector)

---

## Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¸ Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Node.js + Express (Backend)?

**ĞŸĞ»ÑÑÑ‹:**
- âœ… JavaScript Ğ½Ğ° frontend Ğ¸ backend (Ğ¾Ğ´Ğ¸Ğ½ ÑĞ·Ñ‹Ğº)
- âœ… ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Express
- âœ… Ğ›ĞµĞ³ĞºĞ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ñ JSON
- âœ… Ğ‘Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- Python + FastAPI: Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ data science, Ğ½Ğ¾ Ğ½Ğµ Ğ½ÑƒĞ¶ĞµĞ½ Ğ·Ğ´ĞµÑÑŒ
- Python + Flask: ÑÑ‚Ğ°Ñ€Ñ‹Ğ¹ ÑÑ‚ĞµĞº

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ React 18 + TypeScript (Frontend)?

**ĞŸĞ»ÑÑÑ‹:**
- âœ… React - ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğ¹
- âœ… TypeScript - type safety, Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ±Ğ°Ğ³Ğ¾Ğ²
- âœ… Hooks - Ñ‡Ğ¸ÑÑ‚Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°
- âœ… Ğ‘Ğ¾Ğ»ÑŒÑˆĞ°Ñ ÑĞºĞ¾ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- Vue: Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞº Ğ´Ğ»Ñ charts
- Angular: ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ñ‚ÑĞ¶Ñ‘Ğ»Ñ‹Ğ¹ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ECharts?

**ĞŸĞ»ÑÑÑ‹:**
- âœ… ĞœĞ¾Ñ‰Ğ½Ğ°Ñ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° Ğ´Ğ»Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
- âœ… Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ "Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸" (zoom, pan, tooltip)
- âœ… Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
- âœ… Ğ“Ğ¸Ğ±ĞºĞ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ°Ñ React Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ (echarts-for-react)

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- Recharts: Ğ¿Ñ€Ğ¾Ñ‰Ğµ, Ğ½Ğ¾ Ğ¼ĞµĞ½ĞµĞµ Ğ¼Ğ¾Ñ‰Ğ½Ñ‹Ğ¹
- Chart.js: Ğ¼ĞµĞ½ÑŒÑˆĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¸Ğ½Ğ¶ĞµĞ½ĞµÑ€Ğ½Ñ‹Ñ… Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
- D3.js: ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ low-level, Ğ´Ğ¾Ğ»Ğ³Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Vite?

**ĞŸĞ»ÑÑÑ‹:**
- âœ… ĞÑ‡ĞµĞ½ÑŒ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ (HMR Ğ² Ğ¼Ğ¸Ğ»Ğ»Ğ¸ÑĞµĞºÑƒĞ½Ğ´Ğ°Ñ…)
- âœ… Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ bundler (ESM)
- âœ… ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ°Ñ DX (developer experience)
- âœ… TypeScript "Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸"

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- Webpack: Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½ĞµĞµ, ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
- Create React App: ÑƒÑÑ‚Ğ°Ñ€ĞµĞ»

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ TailwindCSS?

**ĞŸĞ»ÑÑÑ‹:**
- âœ… Utility-first Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ - Ğ±Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°
- âœ… ĞĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ¾Ğ² CSS
- âœ… ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- âœ… ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ·Ğ°Ğ¹Ğ½ Ğ»ĞµĞ³ĞºĞ¾

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹:**
- CSS Modules: Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ², Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½ĞµĞµ
- Styled Components: runtime overhead

---

## Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### Backend
- âœ… CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ localhost:5173 Ğ² dev)
- âœ… JSON parsing Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ¾Ğ¼
- âœ… Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ¿ÑƒÑ‚ĞµĞ¹ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ path traversal)
- âœ… Error handling (Ğ½Ğµ Ñ€Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°Ñ‚ÑŒ stack traces Ğ² production)

### Frontend
- âœ… TypeScript strict mode (type safety)
- âœ… Sanitize Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¾Ğ³Ğ¾ Ğ²Ğ²Ğ¾Ğ´Ğ° (ĞµÑĞ»Ğ¸ Ğ±ÑƒĞ´ĞµÑ‚)
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° API Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²

---

## ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ

### Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:
- **ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ:** 10-100 Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ², Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ğ´Ğ¾ 10 MB
- **ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ:** Ğ’ÑĞµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ (fileParser Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚)

### Ğ•ÑĞ»Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ Ğ²Ñ‹Ñ€Ğ°ÑÑ‚ĞµÑ‚:
- **Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:** SQLite Ğ¸Ğ»Ğ¸ PostgreSQL Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ°
- **ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:** Redis Ğ´Ğ»Ñ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‡Ğ°ÑÑ‚Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- **Background jobs:** Bull Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ°Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ğ° Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- **API pagination:** Limit/offset Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… ÑĞ¿Ğ¸ÑĞºĞ¾Ğ²

---

## TypeScript Ñ‚Ğ¸Ğ¿Ñ‹ (shared-types.ts)

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¾ (Ğ²ĞµÑ€ÑĞ¸Ñ 0.2.0)

### Ğ Ğ°ÑĞ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ

Ğ¤Ğ°Ğ¹Ğ» **[shared-types.ts](../shared-types.ts)** Ğ² ĞºĞ¾Ñ€Ğ½Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ²ÑĞµ Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ backend Ğ¸ frontend.

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ‚Ğ¸Ğ¿Ğ¾Ğ²

**Core Types (ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…):**
```typescript
EngineMetadata      // ĞœĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ (Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ñ‹, Ñ‚Ğ¸Ğ¿)
DataPoint           // ĞĞ´Ğ½Ğ° Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (RPM + 23 Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°)
Calculation         // ĞĞ´Ğ¸Ğ½ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ (Ğ¼Ğ°Ñ€ĞºĞµÑ€ + Ğ¼Ğ°ÑÑĞ¸Ğ² Ñ‚Ğ¾Ñ‡ĞµĞº)
ProjectData         // ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚ (Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ + Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹)
ProjectInfo         // ĞšÑ€Ğ°Ñ‚ĞºĞ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¿Ğ¸ÑĞºĞ°
```

**API Types (Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ REST API):**
```typescript
GetProjectsResponse    // ĞÑ‚Ğ²ĞµÑ‚: ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²
GetProjectResponse     // ĞÑ‚Ğ²ĞµÑ‚: Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
ErrorResponse          // Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
```

**Chart Types (Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²):**
```typescript
ChartParameter         // ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ
ChartPreset            // ĞŸÑ€ĞµÑĞµÑ‚Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ² (preset1-4, custom)
ChartPresetConfig      // ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€ĞµÑĞµÑ‚Ğ°
SelectedCalculations   // Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ğ´Ğ»Ñ ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ñ
```

**Export Types (Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ°):**
```typescript
ChartExportFormat      // PNG, SVG, JPG
DataExportFormat       // CSV, Excel, JSON
ChartExportOptions     // ĞĞ¿Ñ†Ğ¸Ğ¸ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
DataExportOptions      // ĞĞ¿Ñ†Ğ¸Ğ¸ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
```

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Backend (JavaScript/Node.js):**
```javascript
// Backend Ğ±ÑƒĞ´ĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ JSDoc Ğ´Ğ»Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
/**
 * @typedef {import('../shared-types').ProjectData} ProjectData
 */

/**
 * @param {string} filePath
 * @returns {Promise<ProjectData>}
 */
async function parseDetFile(filePath) {
  // ...
}
```

**Frontend (TypeScript/React):**
```typescript
import type {
  ProjectData,
  Calculation,
  ChartPreset
} from '../shared-types';

// ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²
```

### ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ‚Ğ¸Ğ¿Ğ¾Ğ²

**ĞÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ½Ğ° Ğ Ğ•ĞĞ›Ğ¬ĞĞ«Ğ¥ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:**
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ° `test-data/Vesta 1.6 IM.det` (462 ÑÑ‚Ñ€Ğ¾ĞºĞ¸, 17 Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚Ğ¾Ğ²)
- 24 Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (RPM, P-Av, Torque, Ğ¼Ğ°ÑÑĞ¸Ğ²Ñ‹ Ğ¿Ğ¾ Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ°Ğ¼)
- **Ğ’ĞĞ–ĞĞ:** Ğ£Ñ‡Ñ‚ĞµĞ½Ğ¾ Ñ‡Ñ‚Ğ¾ Ğ¿ĞµÑ€Ğ²Ğ°Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° ÑĞ»ÑƒĞ¶ĞµĞ±Ğ½Ğ°Ñ

**ĞœĞ°ÑÑĞ¸Ğ²Ñ‹ Ğ´Ğ»Ñ Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ¾Ğ²:**
```typescript
interface DataPoint {
  // ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ¿Ğ¾ Ñ†Ğ¸Ğ»Ğ¸Ğ½Ğ´Ñ€Ğ°Ğ¼ (Ğ²ÑĞµĞ³Ğ´Ğ° 4 Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ)
  PurCyl: [number, number, number, number];
  TUbMax: [number, number, number, number];
  TCylMax: [number, number, number, number];
  PCylMax: [number, number, number, number];
  Deto: [number, number, number, number];
}
```

**Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ:**
```typescript
// Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ĞµĞ»Ñ
type EngineType = 'NATUR' | 'TURBO' | 'SUPERCHARGED';

// Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆÑ‘Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ¾Ğ²
type ChartParameter = 'RPM' | 'PAv' | 'Torque' | ...;
```

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ¾Ğ±Ñ‰Ğ¸Ñ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ²

1. **Single Source of Truth** - Ñ‚Ğ¸Ğ¿Ñ‹ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ Ğ¼ĞµÑÑ‚Ğµ
2. **Sync Ğ¼ĞµĞ¶Ğ´Ñƒ backend/frontend** - Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
3. **Type safety** - Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ²Ñ‹ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ğ½Ğ° ÑÑ‚Ğ°Ğ¿Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»ÑÑ†Ğ¸Ğ¸
4. **Autocomplete** - IDE Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ
5. **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ** - Ñ‚Ğ¸Ğ¿Ñ‹ = Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¸Ğ¿Ğ¾Ğ²

ĞŸÑ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
1. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸ `shared-types.ts`
2. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒ Ñ‡Ñ‚Ğ¾ backend Ğ¸ frontend ĞºĞ¾Ğ¼Ğ¿Ğ¸Ğ»Ğ¸Ñ€ÑƒÑÑ‚ÑÑ
3. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸ ÑÑ‚Ñƒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
4. ĞĞ±Ğ½Ğ¾Ğ²Ğ¸ `docs/api.md` Ñ Ğ½Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼Ğ¸

---

## Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

ĞŸĞ¾ÑĞ»Ğµ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹:
1. Ğ˜Ğ·ÑƒÑ‡Ğ¸ [shared-types.ts](../shared-types.ts) - Ğ²ÑĞµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
2. Ğ˜Ğ·ÑƒÑ‡Ğ¸ [docs/api.md](api.md) - API endpoints
3. ĞÑ‚ĞºÑ€Ğ¾Ğ¹ [roadmap.md](../roadmap.md) - Ğ½Ğ°Ñ‡Ğ½Ğ¸ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
4. Ğ¡Ğ»ĞµĞ´ÑƒĞ¹ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ğ¼ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ°

---

**ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ° Ğ´Ğ»Ñ Ñ‡Ğ¸ÑÑ‚Ğ¾Ñ‚Ñ‹, Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸ ğŸ—ï¸**
